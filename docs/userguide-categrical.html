<!DOCTYPE html>
<html lang="en-US">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link href="https://stackpath.bootstrapcdn.com/bootswatch/4.5.0/sandstone/bootstrap.min.css" rel="stylesheet" type="text/css">
        <link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.6.0/styles/solarized-light.min.css" rel="stylesheet" type="text/css">
        <link href="https://cdnjs.cloudflare.com/ajax/libs/ag-grid/24.0.0/styles/ag-grid.min.css" rel="stylesheet" type="text/css">
        <link href="https://cdnjs.cloudflare.com/ajax/libs/ag-grid/24.0.0/styles/ag-theme-balham.min.css" rel="stylesheet" type="text/css">
        <link href="https://unpkg.com/leaflet@1.6.0/dist/leaflet.css" rel="stylesheet" type="text/css">

        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css" integrity="sha384-AfEj0r4/OFrOo5t7NnNe46zW/tFgW6x/bCJG8FqQCEo3+Aro6EYUG4+cU+KJWu/X" crossorigin="anonymous">
        <!-- The loading of KaTeX is deferred to speed up page rendering -->
        <script defer src="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.js" integrity="sha384-g7c+Jr9ZivxKLnZTDUhnkOnsh30B4H0rpLUpJ4jAIKs4fnJI+sEnkvrMWph2EDg4" crossorigin="anonymous"></script>
    </head>
    <body>
        <p id="loading">Loading ...</p>
        <div id="app"></div>
    </body>
    <script id="state" type="text">"{:options {:reverse-notes? false, :header? false, :notes-in-cards? false, :initially-collapse? false, :auto-scroll? false, :port 5678, :custom-header [:div {:style {:font-style \"italic\", :font-family \"\\\"Lucida Console\\\", Courier, monospace\"}} \"(notespace)\" [:p \"Fri May 06 22:50:04 CEST 2022\"] nil [:hr]], :custom-footer [:div [:hr] [:hr]]}, :ids [\"2139\" \"2141\" \"2143\" \"2145\" \"2147\" \"2149\" \"2151\" \"2153\" \"2155\" \"2157\" \"2159\" \"2161\" \"2163\" \"2165\" \"2167\" \"2169\" \"2171\" \"2173\" \"2175\" \"2177\" \"2179\" \"2181\" \"2183\" \"2185\"], :id->content {\"2179\" [:div [:p] nil nil [:p/markdown \"inspect metadata after conversion\"]], \"2165\" [:div [:p] [:div [:p/code {:code \"(-> ds-number :a meta)\", :bg-class \"bg-light\"}]] nil [:p/code {:code \"{:categorical? true,\\n :name :a,\\n :datatype :int,\\n :n-elems 3,\\n :categorical-map\\n {:lookup-table {:y 0, :x 1}, :src-column :a, :result-datatype :int}}\\n\"}]], \"2159\" [:div [:p] [:div [:p/code {:code \"(def ds-number\\n  (ds/categorical->number\\n   ds-cat :all {} :int))\", :bg-class \"bg-light\"}]] nil nil], \"2151\" [:div [:p] [:div [:p/code {:code \"(def ds-cat\\n  (ds/dataset {:a [:x :y :x]}))\", :bg-class \"bg-light\"}]] nil nil], \"2153\" [:div [:p] nil nil [:p/markdown \"inspect column metadata and observe datatype :kewyword\"]], \"2155\" [:div [:p] [:div [:p/code {:code \"(-> ds-cat :a meta)\", :bg-class \"bg-light\"}]] nil [:p/code {:code \"{:categorical? true, :name :a, :datatype :keyword, :n-elems 3}\\n\"}]], \"2177\" [:div [:p] [:div [:p/code {:code \"(-> ds-one-hot ds/reverse-map-categorical-xforms)\", :bg-class \"bg-light\"}]] nil [:p/code {:code \"_unnamed [3 1]:\\n\\n| :a |\\n|----|\\n| :x |\\n| :y |\\n| :x |\\n\\n\"}]], \"2169\" [:div [:p] nil nil [:p/markdown \"Categorical columns can be converted to one-hot columns as well, which is needed by several ML models.\"]], \"2167\" [:div [:p] nil nil [:p/markdown \"## categorical -> one-hot\"]], \"2181\" [:div [:p] [:div [:p/code {:code \"(-> ds-one-hot :a-y meta)\", :bg-class \"bg-light\"}]] nil [:p/code {:code \"{:categorical? true,\\n :name :a-y,\\n :datatype :int,\\n :n-elems 3,\\n :one-hot-map\\n {:one-hot-table {:y :a-y, :x :a-x},\\n  :src-column :a,\\n  :result-datatype :int}}\\n\"}]], \"2185\" [:div [:p] [:div [:p/code {:code \"(-> ds-one-hot ds/reverse-map-categorical-xforms)\", :bg-class \"bg-light\"}]] nil [:p/code {:code \"_unnamed [3 1]:\\n\\n| :a |\\n|----|\\n| :x |\\n| :y |\\n| :x |\\n\\n\"}]], \"2175\" [:div [:p] nil nil [:p/markdown \"we can go back as well\"]], \"2183\" [:div [:p] nil nil [:p/markdown \"we can go back\"]], \"2163\" [:div [:p] nil nil [:p/markdown \"metadata has changed as well, int now, and with a lookup table\"]], \"2157\" [:div [:p] nil nil [:p/markdown \"convert categorical columns to numeric\"]], \"2147\" [:div [:p] nil nil [:p/markdown \"## categorical -> number\"]], \"2141\" [:div [:p] [:div [:p/code {:code \"(require '[scicloj.ml.core :as ml]\\n         '[scicloj.ml.metamorph :as mm]\\n         '[scicloj.ml.dataset  :as ds])\", :bg-class \"bg-light\"}]] nil nil], \"2145\" [:div [:p] nil nil [:p/markdown \"We keep important information in the metadata of the column,\\nwhich can be inspected\"]], \"2171\" [:div [:p] [:div [:p/code {:code \"(def ds-one-hot\\n  (ds/categorical->one-hot\\n   ds-cat :all {} :int))\", :bg-class \"bg-light\"}]] nil nil], \"2143\" [:div [:p] nil nil [:p/markdown \"# Handling of categorical variables\"]], \"2161\" [:div [:p] [:div [:p/code {:code \"^kind/dataset\\nds-number\", :bg-class \"bg-light\"}]] nil [:div {:class \"table table-striped table-hover table-condensed table-responsive\", :style {:height \"230px\"}} [:p/markdown \"_unnamed [3 1]:\\n\\n| :a |\\n|---:|\\n|  1 |\\n|  0 |\\n|  1 |\\n\"]]], \"2139\" [:div [:p] [:div [:p/code {:code \"(comment\\n  (note/init-with-browser))\", :bg-class \"bg-light\"}]] nil [:p/code {:code \"nil\\n\"}]], \"2173\" [:div [:p] [:div [:p/code {:code \"^kind/dataset\\nds-one-hot\", :bg-class \"bg-light\"}]] nil [:div {:class \"table table-striped table-hover table-condensed table-responsive\", :style {:height \"230px\"}} [:p/markdown \"_unnamed [3 2]:\\n\\n| :a-y | :a-x |\\n|-----:|-----:|\\n|    0 |    1 |\\n|    1 |    0 |\\n|    0 |    1 |\\n\"]]], \"2149\" [:div [:p] nil nil [:p/markdown \"Categorical columns can be converted too numbers, which is needed by several ML models.\"]]}}"</script>
    <script src="gorilla-notes/js/compiled/main.js"></script>
</html>
