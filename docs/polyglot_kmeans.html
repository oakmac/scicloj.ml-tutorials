<!DOCTYPE html>
<html lang="en-US">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link href="https://stackpath.bootstrapcdn.com/bootswatch/4.5.0/sandstone/bootstrap.min.css" rel="stylesheet" type="text/css">
        <link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.6.0/styles/solarized-light.min.css" rel="stylesheet" type="text/css">
        <link href="https://cdnjs.cloudflare.com/ajax/libs/ag-grid/24.0.0/styles/ag-grid.min.css" rel="stylesheet" type="text/css">
        <link href="https://cdnjs.cloudflare.com/ajax/libs/ag-grid/24.0.0/styles/ag-theme-balham.min.css" rel="stylesheet" type="text/css">
        <link href="https://unpkg.com/leaflet@1.6.0/dist/leaflet.css" rel="stylesheet" type="text/css">

        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css" integrity="sha384-AfEj0r4/OFrOo5t7NnNe46zW/tFgW6x/bCJG8FqQCEo3+Aro6EYUG4+cU+KJWu/X" crossorigin="anonymous">
        <!-- The loading of KaTeX is deferred to speed up page rendering -->
        <script defer src="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.js" integrity="sha384-g7c+Jr9ZivxKLnZTDUhnkOnsh30B4H0rpLUpJ4jAIKs4fnJI+sEnkvrMWph2EDg4" crossorigin="anonymous"></script>
    </head>
    <body>
        <p id="loading">Loading ...</p>
        <div id="app"></div>
    </body>
    <script id="state" type="text">"{:options {:reverse-notes? false, :header? false, :notes-in-cards? false, :initially-collapse? false, :auto-scroll? false, :port 5678, :custom-header [:div {:style {:font-style \"italic\", :font-family \"\\\"Lucida Console\\\", Courier, monospace\"}} \"(notespace)\" [:p \"Sun Dec 18 23:04:49 CET 2022\"] nil [:hr]], :custom-footer [:div [:hr] [:hr]]}, :ids [\"743\" \"745\" \"747\" \"749\" \"751\" \"753\" \"755\" \"757\" \"759\" \"761\" \"763\" \"765\" \"767\" \"769\" \"771\" \"773\" \"775\" \"777\" \"779\" \"781\" \"783\" \"785\" \"787\"], :id->content {\"765\" [:div [:p] [:div [:p/code {:code \"(require '[scicloj.ml.sklearnclj])\", :bg-class \"bg-light\"}]] nil nil], \"767\" [:div [:p] [:div [:p/code {:code \"(require '[scicloj.ml.dataset :as ds]\\n         '[scicloj.ml.metamorph :as mm]\\n         '[scicloj.ml.core :as ml]\\n         '[scicloj.sklearn-clj.metamorph :as sklearn-clj])\", :bg-class \"bg-light\"}]] nil nil], \"745\" [:div [:p] [:div [:p/code {:code \"^{::clerk/visibility #{:hide}}\\n(clerk/code\\n \\\"\\nfrom sklearn.datasets import make_blobs\\nfrom sklearn.cluster import KMeans\\nfrom sklearn.preprocessing import StandardScaler\\n\\nfeatures, true_labels = make_blobs(\\n    n_samples=200,\\n    centers=3,\\n    cluster_std=2.75,\\n    random_state=42\\n)\\n\\nscaler = StandardScaler()\\nscaled_features = scaler.fit_transform(features)\\n\\nkmeans = KMeans(\\n    init=\\\\\\\"random\\\\\\\",\\n    n_clusters=3,\\n    n_init=10,\\n    max_iter=300,\\n    random_state=42)\\n\\nkmeans.fit(scaled_features)\\n\\nkmeans.inertia_\\n\\\")\", :bg-class \"bg-light\"}]] nil [:p/code {:code \"#:nextjournal{:value\\n              \\\"\\\\nfrom sklearn.datasets import make_blobs\\\\nfrom sklearn.cluster import KMeans\\\\nfrom sklearn.preprocessing import StandardScaler\\\\n\\\\nfeatures, true_labels = make_blobs(\\\\n    n_samples=200,\\\\n    centers=3,\\\\n    cluster_std=2.75,\\\\n    random_state=42\\\\n)\\\\n\\\\nscaler = StandardScaler()\\\\nscaled_features = scaler.fit_transform(features)\\\\n\\\\nkmeans = KMeans(\\\\n    init=\\\\\\\"random\\\\\\\",\\\\n    n_clusters=3,\\\\n    n_init=10,\\\\n    max_iter=300,\\\\n    random_state=42)\\\\n\\\\nkmeans.fit(scaled_features)\\\\n\\\\nkmeans.inertia_\\\\n\\\",\\n              :viewer\\n              {:name :code,\\n               :render-fn nextjournal.clerk.render/render-code,\\n               :transform-fn\\n               #object[clojure.core$comp$fn__5876 0x22d25b79 \\\"clojure.core$comp$fn__5876@22d25b79\\\"]}}\\n\"}]], \"781\" [:div [:p] [:div [:p/code {:code \"(def decl-pipe\\n  [[:mm/std-scale :all {}]\\n   {:metamorph/id :k-means}\\n   [:scicloj.ml.smile.clustering/cluster\\n    :k-means\\n    [3 300]\\n    :cluster]])\", :bg-class \"bg-light\"}]] nil nil], \"743\" [:div [:p] [:div [:p/code {:code \"(comment\\n  (clerk/serve! {:browser true})\\n  (clerk/build-static-app! {:paths [\\\"src/scicloj/ml/polyglot_kmeans.clj\\\"]\\n                            :bundle? false})\\n  (clerk/clear-cache!))\", :bg-class \"bg-light\"}]] nil [:p/code {:code \"nil\\n\"}]], \"763\" [:div [:p] [:div [:p/code {:code \"(println :python\\n (py.- k-means inertia_))\", :bg-class \"bg-light\"}]] nil [:p/code {:code \"nil\\n\"}]], \"759\" [:div [:p] [:div [:p/code {:code \"(py. k-means fit scaled-features)\", :bg-class \"bg-light\"}]] nil [:p/code {:code \"KMeans(init='random', n_clusters=3, random_state=42)\\n\"}]], \"777\" [:div [:p] [:div [:p/code {:code \"(def fitted-ctx-2\\n  (ml/fit\\n   data\\n   (mm/std-scale  :all {})\\n   {:metamorph/id :k-means}\\n   (scicloj.ml.smile.clustering/cluster\\n    :k-means\\n    [3 300]\\n    :cluster)))\", :bg-class \"bg-light\"}]] nil nil], \"769\" [:div [:p] [:div [:p/code {:code \"(def data (-> blobs first py/->jvm ds/dataset))\", :bg-class \"bg-light\"}]] nil nil], \"747\" [:div [:p] [:div [:p/code {:code \"(require-python '[sklearn.datasets :refer [make_blobs]]\\n                '[sklearn.preprocessing :refer [StandardScaler]]\\n                '[sklearn.cluster :refer [KMeans]])\", :bg-class \"bg-light\"}]] nil [:p/code {:code \":ok\\n\"}]], \"761\" [:div [:p] [:div [:p/code {:code \"(py.- k-means inertia_)\", :bg-class \"bg-light\"}]] nil [:p/code {:code \"3128.771219389526\\n\"}]], \"757\" [:div [:p] [:div [:p/code {:code \"(def k-means (KMeans\\n              :init \\\"random\\\"\\n              :n_clusters 3\\n              :n_init 10\\n              :max_iter 300\\n              :random_state 42))\", :bg-class \"bg-light\"}]] nil nil], \"787\" [:div [:p] [:div [:p/code {:code \"(def distortion-2\\n  (->> [[:mm/std-scale :all {}]\\n        {:metamorph/id :k-means}\\n        [:scicloj.ml.smile.clustering/cluster\\n         :k-means\\n         [3 300]\\n         :cluster]]\\n       ml/->pipeline\\n       (ml/fit-pipe data)\\n       :k-means\\n       :info))\", :bg-class \"bg-light\"}]] nil nil], \"753\" [:div [:p] [:div [:p/code {:code \"(def features (first blobs))\", :bg-class \"bg-light\"}]] nil nil], \"783\" [:div [:p] [:div [:p/code {:code \"(def distortion-1\\n  (->> decl-pipe\\n       ml/->pipeline\\n       (ml/fit-pipe data)\\n       :k-means\\n       :info\\n       :distortion))\", :bg-class \"bg-light\"}]] nil nil], \"751\" [:div [:p] [:div [:p/code {:code \"(def scaler (StandardScaler))\", :bg-class \"bg-light\"}]] nil nil], \"779\" [:div [:p] [:div [:p/code {:code \"(-> fitted-ctx-2 :k-means  :info :distortion)\", :bg-class \"bg-light\"}]] nil [:p/code {:code \"6135.451361687327\\n\"}]], \"773\" [:div [:p] [:div [:p/code {:code \"(-> fitted-ctx-1 :k-means :attributes :inertia_)\", :bg-class \"bg-light\"}]] nil [:p/code {:code \"3113.1273632925786\\n\"}]], \"755\" [:div [:p] [:div [:p/code {:code \"(def scaled-features (py. scaler fit_transform features))\", :bg-class \"bg-light\"}]] nil nil], \"775\" [:div [:p] [:div [:p/code {:code \"(require '[scicloj.ml.smile.clustering :as clustering])\", :bg-class \"bg-light\"}]] nil nil], \"749\" [:div [:p] [:div [:p/code {:code \"(def blobs\\n  (make_blobs :n_samples 200\\n              :n_features 50\\n              :centers 3\\n              :cluster_std 2.75\\n              :random_state 42))\", :bg-class \"bg-light\"}]] nil nil], \"771\" [:div [:p] [:div [:p/code {:code \"(def fitted-ctx-1\\n  (ml/fit\\n   data\\n   (mm/std-scale  :all {})\\n   {:metamorph/id :k-means}\\n   (sklearn-clj/estimate\\n    :sklearn.cluster \\\"KMeans\\\"\\n    {:init \\\"random\\\"\\n     :n_clusters 3\\n     :n_init 10\\n     :max_iter 300\\n     :random_state 42})))\", :bg-class \"bg-light\"}]] nil nil], \"785\" [:div [:p] [:div [:p/code {:code \"(frequencies\\n (repeatedly 1000 (fn []\\n                    (->> decl-pipe\\n                         ml/->pipeline\\n                         (ml/fit-pipe data)\\n                         :k-means\\n                         :info\\n                         :distortion))))\", :bg-class \"bg-light\"}]] nil [:p/code {:code \"{6722.403763022833 1,\\n 6124.782837860497 1,\\n 6114.361971001894 1,\\n 6111.474062673508 1,\\n 6625.546774796162 1,\\n 6112.736367969073 1,\\n 6670.904637557517 1,\\n 6126.13536298406 1,\\n 6123.104011275595 1,\\n 6659.698190031443 1,\\n 6125.057465602743 1,\\n 6146.835222050597 1,\\n 6123.904991519874 1,\\n 6126.705593920531 1,\\n 6132.147863698192 1,\\n 6125.197875865145 2,\\n 6134.719890185425 1,\\n 6670.211661309225 1,\\n 6129.169842421963 1,\\n 6125.649569006142 1,\\n 6159.275009071018 1,\\n 6111.886865632264 1,\\n 6123.097119300712 1,\\n 6155.6192218551805 1,\\n 6138.395298416524 1,\\n 6111.184107855115 1,\\n 6122.151775378211 1,\\n 6127.540345922212 1,\\n 6119.36545053071 1,\\n 6664.627966084117 1,\\n 6119.683548045118 1,\\n 6142.864585609048 1,\\n 6623.821383458497 1,\\n 6622.24593020113 1,\\n 6120.008599194269 1,\\n 6648.949448563326 1,\\n 6113.22881054257 1,\\n 6666.88299822619 1,\\n 6681.476025951082 1,\\n 6122.304276868037 1,\\n 6629.45097763228 1,\\n 6112.816355473475 1,\\n 6647.669069688337 1,\\n 6176.945686021643 4,\\n 6139.284643691765 1,\\n 6124.176591891068 1,\\n 6151.346352698883 3,\\n 6176.945686021644 3,\\n 6153.337993270393 1,\\n 6667.8152894135255 1,\\n 6117.735447941539 1,\\n 6114.701051290872 1,\\n 6133.441042943652 1,\\n 6125.370367497133 1,\\n 6628.557446675376 1,\\n 6158.9284189762275 1,\\n 6128.568534897027 1,\\n 6661.08540809608 1,\\n 3113.1273632925795 875,\\n 6115.8555801565335 1,\\n 6132.653423808623 1,\\n 6649.168257182576 1,\\n 6151.574129593764 1,\\n 6124.142647663994 1,\\n 6113.3189335918 1,\\n 6116.804905030174 1,\\n 6657.679785691838 1,\\n 6113.818420894795 1,\\n 6147.536541733711 2,\\n 6671.645406715184 1,\\n 6664.518202595754 1,\\n 6122.149642293361 1,\\n 6119.067419128582 1,\\n 6121.096459316101 1,\\n 6678.176457665651 1,\\n 6145.553343431493 1,\\n 6145.080267226732 1,\\n 6118.792867320353 1,\\n 6125.89162342284 1,\\n 6118.9037276441095 1,\\n 6119.862223528829 1,\\n 6120.994324175212 1,\\n 6627.217498539424 1,\\n 6114.972489144142 1,\\n 6148.833785516386 1,\\n 6131.583171471606 1,\\n 6123.777143140077 1,\\n 6634.579970268477 1,\\n 6118.098913287116 1,\\n 6123.830147678996 1,\\n 6110.120238521142 1,\\n 6641.065520895623 1,\\n 6119.097143799679 1,\\n 6119.74029074272 1,\\n 6122.095328929282 1,\\n 6112.77854066697 1,\\n 6127.790559744099 1,\\n 6134.938185035377 1,\\n 6144.596288343457 1,\\n 6115.664269845336 1,\\n 6123.307031436726 1,\\n 6128.465279356238 1,\\n 6109.4972855043925 1,\\n 6695.024393998258 1,\\n 6109.6522979703095 1,\\n 6136.605150828202 1,\\n 6115.815558619488 1,\\n 6112.7180034740695 1,\\n 6693.84014040151 1,\\n 6668.080962738526 1,\\n 6119.9290843739755 1,\\n 6621.955804386913 1,\\n 6126.80704698195 1,\\n 6658.702972252254 1,\\n 6121.344625398872 1,\\n 6109.9290411696875 1,\\n 6137.79747287078 1}\\n\"}]]}}"</script>
    <script src="gorilla-notes/js/compiled/main.js"></script>
</html>
