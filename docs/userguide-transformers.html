<!DOCTYPE html>
<html lang="en-US">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link href="https://stackpath.bootstrapcdn.com/bootswatch/4.5.0/sandstone/bootstrap.min.css" rel="stylesheet" type="text/css">
        <link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.6.0/styles/solarized-light.min.css" rel="stylesheet" type="text/css">
        <link href="https://cdnjs.cloudflare.com/ajax/libs/ag-grid/24.0.0/styles/ag-grid.min.css" rel="stylesheet" type="text/css">
        <link href="https://cdnjs.cloudflare.com/ajax/libs/ag-grid/24.0.0/styles/ag-theme-balham.min.css" rel="stylesheet" type="text/css">
        <link href="https://unpkg.com/leaflet@1.6.0/dist/leaflet.css" rel="stylesheet" type="text/css">

        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css" integrity="sha384-AfEj0r4/OFrOo5t7NnNe46zW/tFgW6x/bCJG8FqQCEo3+Aro6EYUG4+cU+KJWu/X" crossorigin="anonymous">
        <!-- The loading of KaTeX is deferred to speed up page rendering -->
        <script defer src="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.js" integrity="sha384-g7c+Jr9ZivxKLnZTDUhnkOnsh30B4H0rpLUpJ4jAIKs4fnJI+sEnkvrMWph2EDg4" crossorigin="anonymous"></script>
    </head>
    <body>
        <p id="loading">Loading ...</p>
        <div id="app"></div>
    </body>
    <script id="state" type="text">"{:options {:reverse-notes? false, :header? false, :notes-in-cards? false, :initially-collapse? false, :auto-scroll? false, :port 5678, :custom-header [:div {:style {:font-style \"italic\", :font-family \"\\\"Lucida Console\\\", Courier, monospace\"}} \"(notespace)\" [:p \"Sun Dec 18 23:12:00 CET 2022\"] nil [:hr]], :custom-footer [:div [:hr] [:hr]]}, :ids [\"812\" \"814\" \"816\" \"818\" \"820\" \"822\" \"824\" \"826\" \"828\" \"830\" \"832\" \"834\" \"836\" \"838\" \"840\" \"842\" \"844\" \"846\" \"848\" \"850\" \"852\" \"854\" \"856\" \"858\" \"860\" \"862\" \"864\" \"866\" \"868\" \"870\" \"872\" \"874\" \"876\" \"878\" \"880\" \"882\" \"884\" \"886\" \"888\" \"890\" \"892\" \"894\" \"896\" \"898\" \"900\" \"902\" \"904\" \"906\" \"908\" \"910\" \"912\" \"914\" \"916\" \"918\" \"920\" \"922\" \"924\" \"926\" \"928\" \"930\" \"932\" \"934\" \"936\" \"938\" \"940\" \"942\" \"944\" \"946\" \"948\" \"950\" \"952\" \"954\" \"956\" \"958\" \"960\" \"962\" \"964\" \"966\" \"968\" \"970\" \"972\" \"974\" \"976\" \"978\" \"980\" \"982\" \"984\" \"986\" \"988\" \"990\" \"992\" \"994\"], :id->content {\"984\" [:div [:p] [:div [:p/code {:code \"^kind/dataset\\n(:metamorph/data fitted-ctx)\", :bg-class \"bg-light\"}]] nil [:div {:class \"table table-striped table-hover table-condensed table-responsive\", :style {:height \"400px\"}} [:p/markdown \"_unnamed [208 3]:\\n\\n| :material |   pca-cov-0 |   pca-cov-1 |\\n|-----------|------------:|------------:|\\n|         R |  0.13969334 |  0.23879923 |\\n|         M |  0.88881794 |  0.71502348 |\\n|         R |  0.60629026 | -0.04728686 |\\n|         M | -0.04178149 | -1.03164391 |\\n|         M |  0.91196064 |  1.37553421 |\\n|         R | -0.68824281 | -0.33137589 |\\n|         M | -0.28410306 | -0.45966114 |\\n|         M | -0.22790711 | -0.74971019 |\\n|         R |  0.71854517 |  0.39356258 |\\n|         M | -0.35954899 | -0.66430783 |\\n|       ... |         ... |         ... |\\n|         M | -0.52252766 |  0.16721201 |\\n|         M |  0.72660907 |  0.41808875 |\\n|         M |  0.04576078 | -0.99596955 |\\n|         R | -0.16196134 | -0.66724957 |\\n|         M |  0.42914299 | -0.88123200 |\\n|         R |  0.94112886 |  0.22913852 |\\n|         R | -0.05161197 |  0.19279682 |\\n|         M |  0.50394066 | -0.94204439 |\\n|         M |  0.84579825 |  0.60715181 |\\n|         R |  0.91468387 |  0.13531135 |\\n|         R |  0.18357837 | -1.01167568 |\\n\"]]], \"978\" [:div [:p] nil nil [:p/markdown \"We could for example decide, that keeping 60 % of the variance\\nis enough, which would result in keeping the first 2 dimensions.\"]], \"820\" [:div [:p] nil nil [:p/markdown \"In the following we transform the text given in a dataset into a\\n map of token counts applying some default text normalization.\"]], \"910\" [:div [:p] nil nil nil], \"840\" [:div [:p] [:div [:p/code {:code \"fitted-ctx\", :bg-class \"bg-light\"}]] nil [:p/code {:code \"#:metamorph{:data _unnamed [2 2]:\\n\\n|                                :text |                                                   :bow |\\n|--------------------------------------|--------------------------------------------------------|\\n| Hello Clojure world, hello ML word ! | {\\\"hello\\\" 2, \\\"world\\\" 1, \\\",\\\" 1, \\\"ml\\\" 1, \\\"word\\\" 1, \\\"!\\\" 1} |\\n|               ML with Clojure is fun |                    {\\\"ml\\\" 1, \\\"with\\\" 1, \\\"is\\\" 1, \\\"fun\\\" 1} |\\n, :mode :fit}\\n\"}]], \"932\" [:div [:p] [:div [:p/code {:code \"^kind/dataset\\ndata\", :bg-class \"bg-light\"}]] nil [:div {:class \"table table-striped table-hover table-condensed table-responsive\", :style {:height \"322px\"}} [:p/markdown \":_unnamed [5 2]:\\n\\n|   0 |     1 |\\n|----:|------:|\\n| 100 | 0.001 |\\n|   8 | 0.050 |\\n|  50 | 0.005 |\\n|  88 | 0.070 |\\n|   4 | 0.100 |\\n\"]]], \"896\" [:div [:p] [:div [:p/code {:code \"(def iris\\n  (->\\n   (ds/dataset\\n    \\\"https://raw.githubusercontent.com/scicloj/metamorph.ml/main/test/data/iris.csv\\\" {:key-fn keyword})\\n   (tech.v3.dataset.print/print-range 5)))\", :bg-class \"bg-light\"}]] nil nil], \"914\" [:div [:p] nil nil [:p/markdown \"and then prediction on test\"]], \"972\" [:div [:p] [:div [:p/code {:code \"^kind/vega\\n{:$schema \\\"https://vega.github.io/schema/vega-lite/v5.json\\\"\\n :width 850\\n :data {:values\\n        (create-plot-data fitted-ctx)}\\n :mark \\\"line\\\" ,\\n :encoding\\n {:x {:field :principal-component, :type \\\"nominal\\\"},\\n  :y {:field :cumulative-variance, :type \\\"quantitative\\\"}}}\", :bg-class \"bg-light\"}]] nil [:p/vega {:$schema \"https://vega.github.io/schema/vega-lite/v5.json\", :width 850, :data {:values ({:cumulative-variance 0.31971149479250877, :principal-component 0} {:cumulative-variance 0.5235420901653136, :principal-component 1} {:cumulative-variance 0.6091002869590061, :principal-component 2} {:cumulative-variance 0.6736935074186393, :principal-component 3} {:cumulative-variance 0.725335066727316, :principal-component 4} {:cumulative-variance 0.7698490849737343, :principal-component 5} {:cumulative-variance 0.8119260431563502, :principal-component 6} {:cumulative-variance 0.8382525634042723, :principal-component 7} {:cumulative-variance 0.8605529291113191, :principal-component 8} {:cumulative-variance 0.879771101847903, :principal-component 9} {:cumulative-variance 0.8954241908902043, :principal-component 10} {:cumulative-variance 0.909016913098855, :principal-component 11} {:cumulative-variance 0.9207183350160374, :principal-component 12} {:cumulative-variance 0.930286346158442, :principal-component 13} {:cumulative-variance 0.9390195917296513, :principal-component 14} {:cumulative-variance 0.9466845369424247, :principal-component 15} {:cumulative-variance 0.9538789418133944, :principal-component 16} {:cumulative-variance 0.9595348908161602, :principal-component 17} {:cumulative-variance 0.9648080302096571, :principal-component 18} {:cumulative-variance 0.9696892254846439, :principal-component 19} {:cumulative-variance 0.9733482655665951, :principal-component 20} {:cumulative-variance 0.9762822358710562, :principal-component 21} {:cumulative-variance 0.9789613988813191, :principal-component 22} {:cumulative-variance 0.9813613318829019, :principal-component 23} {:cumulative-variance 0.9836817442332522, :principal-component 24} {:cumulative-variance 0.9858406939686831, :principal-component 25} {:cumulative-variance 0.9874044200054725, :principal-component 26} {:cumulative-variance 0.9888093899096736, :principal-component 27} {:cumulative-variance 0.9901071282284587, :principal-component 28} {:cumulative-variance 0.9912911831931172, :principal-component 29} {:cumulative-variance 0.9922583825228618, :principal-component 30} {:cumulative-variance 0.9931676767424223, :principal-component 31} {:cumulative-variance 0.9939288969729646, :principal-component 32} {:cumulative-variance 0.9946525952006342, :principal-component 33} {:cumulative-variance 0.9953526025581715, :principal-component 34} {:cumulative-variance 0.9960040990184553, :principal-component 35} {:cumulative-variance 0.9965519658657541, :principal-component 36} {:cumulative-variance 0.9970772003351906, :principal-component 37} {:cumulative-variance 0.9975647309726664, :principal-component 38} {:cumulative-variance 0.9979689474966706, :principal-component 39} {:cumulative-variance 0.998363453379374, :principal-component 40} {:cumulative-variance 0.9987264255349996, :principal-component 41} {:cumulative-variance 0.9990014209096296, :principal-component 42} {:cumulative-variance 0.9992348810260459, :principal-component 43} {:cumulative-variance 0.9994274362459917, :principal-component 44} {:cumulative-variance 0.9995760342330939, :principal-component 45} {:cumulative-variance 0.9996676745496229, :principal-component 46} {:cumulative-variance 0.9997463658608327, :principal-component 47} {:cumulative-variance 0.9998174151573338, :principal-component 48} {:cumulative-variance 0.9998634738637073, :principal-component 49} {:cumulative-variance 0.9998952776936947, :principal-component 50} {:cumulative-variance 0.9999201078961559, :principal-component 51} {:cumulative-variance 0.9999386690354297, :principal-component 52} {:cumulative-variance 0.9999537982223055, :principal-component 53} {:cumulative-variance 0.9999660718779566, :principal-component 54} {:cumulative-variance 0.9999767241290464, :principal-component 55} {:cumulative-variance 0.999984570529223, :principal-component 56} {:cumulative-variance 0.9999913227770387, :principal-component 57} {:cumulative-variance 0.999996677433683, :principal-component 58} {:cumulative-variance 0.9999999999999998, :principal-component 59})}, :mark \"line\", :encoding {:x {:field :principal-component, :type \"nominal\"}, :y {:field :cumulative-variance, :type \"quantitative\"}}}]], \"930\" [:div [:p] [:div [:p/code {:code \"(def data\\n  (ds/dataset\\n   [\\n    [100 0.001]\\n    [8   0.05]\\n    [50  0.005]\\n    [88  0.07]\\n    [4   0.1]]\\n   {:layout :as-row}))\", :bg-class \"bg-light\"}]] nil nil], \"836\" [:div [:p] nil nil [:p/markdown \"A custom tokenizer can be specified by either passing options to\\n`scicloj.ml.smile.nlp/default-tokenize` \"]], \"826\" [:div [:p] nil nil [:p/markdown \"_\"]], \"958\" [:div [:p] [:div [:p/code {:code \"(def col-names (map #(keyword (str \\\"x\\\" %))\\n                    (range 60)))\", :bg-class \"bg-light\"}]] nil nil], \"884\" [:div [:p] nil nil [:p/markdown \"## Transformer **bow->tfidf**\\n----------------------------------------------------------\\n__Clojure doc__:\\n\\nCalculates the tfidf score from bag-of-words (as token frequency maps)\\n   in column `bow-column` and stores them in a new column `tfid-column` as maps of token->tfidf-score.\\n\\n  It calculates a global term-frequency map in :fit and reuses it in :transform\\n\\n\\n  metamorph                            |.\\n  -------------------------------------|---------\\n  Behaviour in mode :fit               |normal\\n  Behaviour in mode :transform         |normal\\n  Reads keys from ctx                  |none\\n  Writes keys to ctx                   |none\\n  \\n----------------------------------------------------------\"]], \"818\" [:div [:p] nil nil [:p/markdown \"## Transformer **count-vectorize**\\n----------------------------------------------------------\\n__Clojure doc__:\\n\\nTransforms the text column `text-col` into a map of token frequencies in column\\n  `bow-col`\\n\\n  `options` can be any of\\n\\n  * `text->bow-fn` A functions which takes as input a text as string and options.\\n     The default is `nlp/default-text->bow`\\n\\n  metamorph                            |.\\n  -------------------------------------|---------\\n  Behaviour in mode :fit               |normal\\n  Behaviour in mode :transform         |normal\\n  Reads keys from ctx                  |none\\n  Writes keys to ctx                   |none\\n  \\n----------------------------------------------------------\"]], \"908\" [:div [:p] [:div [:p/code {:code \"(def fitted-ctx\\n  (ml/fit\\n   (:train-ds train-test)\\n   pipe-fn))\", :bg-class \"bg-light\"}]] nil nil], \"916\" [:div [:p] [:div [:p/code {:code \"(def transformed-ctx\\n  (ml/transform-pipe (:test-ds train-test) pipe-fn fitted-ctx))\", :bg-class \"bg-light\"}]] nil nil], \"942\" [:div [:p] [:div [:p/code {:code \"^kind/dataset\\n(ml/pipe-it\\n data\\n (mm/min-max-scale [0 1] {}))\", :bg-class \"bg-light\"}]] nil [:div {:class \"table table-striped table-hover table-condensed table-responsive\", :style {:height \"322px\"}} [:p/markdown \":_unnamed [5 2]:\\n\\n|           0 |           1 |\\n|------------:|------------:|\\n|  0.50000000 | -0.50000000 |\\n| -0.45833333 | -0.00505051 |\\n| -0.02083333 | -0.45959596 |\\n|  0.37500000 |  0.19696970 |\\n| -0.50000000 |  0.50000000 |\\n\"]]], \"868\" [:div [:p] [:div [:p/code {:code \"ctx-sparse\", :bg-class \"bg-light\"}]] nil [:p/code {:code \"{:metamorph/data _unnamed [2 3]:\\n\\n|                                :text |                                                               :bow |     :sparse |\\n|--------------------------------------|--------------------------------------------------------------------|-------------|\\n| Hello Clojure world, hello ML word ! | {\\\"hello\\\" 2, \\\"clojur\\\" 1, \\\"world\\\" 1, \\\",\\\" 1, \\\"ml\\\" 1, \\\"word\\\" 1, \\\"!\\\" 1} | [I@2b3a27e3 |\\n|               ML with Clojure is fun |                    {\\\"ml\\\" 1, \\\"with\\\" 1, \\\"clojur\\\" 1, \\\"is\\\" 1, \\\"fun\\\" 1} | [I@5a02ee1b |\\n,\\n :metamorph/mode :fit,\\n :scicloj.ml.smile.metamorph/bow->sparse-vocabulary\\n {:vocab\\n  (\\\"clojur\\\" \\\"!\\\" \\\"word\\\" \\\"hello\\\" \\\"is\\\" \\\"fun\\\" \\\"ml\\\" \\\",\\\" \\\"with\\\" \\\"world\\\"),\\n  :vocab->index-map\\n  {\\\"clojur\\\" 0,\\n   \\\"!\\\" 1,\\n   \\\"word\\\" 2,\\n   \\\"hello\\\" 3,\\n   \\\"is\\\" 4,\\n   \\\"fun\\\" 5,\\n   \\\"ml\\\" 6,\\n   \\\",\\\" 7,\\n   \\\"with\\\" 8,\\n   \\\"world\\\" 9},\\n  :index->vocab-map\\n  {0 \\\"clojur\\\",\\n   7 \\\",\\\",\\n   1 \\\"!\\\",\\n   4 \\\"is\\\",\\n   6 \\\"ml\\\",\\n   3 \\\"hello\\\",\\n   2 \\\"word\\\",\\n   9 \\\"world\\\",\\n   5 \\\"fun\\\",\\n   8 \\\"with\\\"}}}\\n\"}]], \"894\" [:div [:p] nil nil [:p/markdown \"We use the Iris data for this example:\"]], \"830\" [:div [:p] [:div [:p/code {:code \"fitted-ctx\", :bg-class \"bg-light\"}]] nil [:p/code {:code \"#:metamorph{:data _unnamed [2 2]:\\n\\n|                                :text |                                                               :bow |\\n|--------------------------------------|--------------------------------------------------------------------|\\n| Hello Clojure world, hello ML word ! | {\\\"hello\\\" 2, \\\"clojur\\\" 1, \\\"world\\\" 1, \\\",\\\" 1, \\\"ml\\\" 1, \\\"word\\\" 1, \\\"!\\\" 1} |\\n|               ML with Clojure is fun |                    {\\\"ml\\\" 1, \\\"with\\\" 1, \\\"clojur\\\" 1, \\\"is\\\" 1, \\\"fun\\\" 1} |\\n, :mode :fit}\\n\"}]], \"890\" [:div [:p] nil nil [:p/markdown \"## Transformer **model**\\n----------------------------------------------------------\\n__Clojure doc__:\\n\\nExecutes a machine learning model in train/predict (depending on :mode)\\n  from the `metamorph.ml` model registry.\\n\\n  The model is passed between both invocation via the shared context ctx in a\\n  key (a step indentifier) which is passed in key `:metamorph/id` and guarantied to be unique for each\\n  pipeline step.\\n\\n  The function writes and reads into this common context key.\\n\\n  Options:\\n  - `:model-type` - Keyword for the model to use\\n\\n  Further options get passed to `train` functions and are model specific.\\n\\n  See here for an overview for the models build into scicloj.ml:\\n\\n\\n  https://scicloj.github.io/scicloj.ml-tutorials/userguide-models.html\\n\\n  Other libraries might contribute other models,\\n  which are documented as part of the library.\\n\\n\\n  metamorph                            | .\\n  -------------------------------------|----------------------------------------------------------------------------\\n  Behaviour in mode :fit               | Calls `scicloj.metamorph.ml/train` using data in `:metamorph/data` and `options`and stores trained model in ctx under key in `:metamorph/id`\\n  Behaviour in mode :transform         | Reads trained model from ctx and calls `scicloj.metamorph.ml/predict` with the model in $id and data in `:metamorph/data`\\n  Reads keys from ctx                  | In mode `:transform` : Reads trained model to use for prediction from key in `:metamorph/id`.\\n  Writes keys to ctx                   | In mode `:fit` : Stores trained model in key $id and writes feature-ds and target-ds before prediction into ctx at `:scicloj.metamorph.ml/feature-ds` /`:scicloj.metamorph.ml/target-ds`\\n\\n\\n\\n\\n  See as well:\\n\\n  * `scicloj.metamorph.ml/train`\\n  * `scicloj.metamorph.ml/predict`\\n\\n  \\n----------------------------------------------------------\"]], \"858\" [:div [:p] nil nil [:p/markdown \"The SparseArray instances look like this:\"]], \"814\" [:div [:p] [:div [:p/code {:code \"(require '[scicloj.ml.core :as ml]\\n         '[scicloj.ml.dataset :as ds]\\n         '[scicloj.ml.metamorph :as mm])\", :bg-class \"bg-light\"}]] nil nil], \"954\" [:div [:p] [:div [:p/code {:code \"(def sonar\\n  (toydata/sonar-ds))\", :bg-class \"bg-light\"}]] nil nil], \"988\" [:div [:p] [:div [:p/code {:code \"(def scatter-plot-data\\n  (-> fitted-ctx\\n      :metamorph/data\\n      (ds/select-columns [:material \\\"pca-cov-0\\\" \\\"pca-cov-1\\\"])\\n      (ds/rows :as-maps)))\", :bg-class \"bg-light\"}]] nil nil], \"850\" [:div [:p] nil nil [:p/markdown \"Now we convert the bag-of-words map to a sparse array of class\\n `smile.util.SparseArray`\\n\\n\"]], \"898\" [:div [:p] [:div [:p/code {:code \"^kind/dataset\\niris\", :bg-class \"bg-light\"}]] nil [:div {:class \"table table-striped table-hover table-condensed table-responsive\", :style {:height \"368px\"}} [:p/markdown \"https://raw.githubusercontent.com/scicloj/metamorph.ml/main/test/data/iris.csv [150 5]:\\n\\n| :sepal_length | :sepal_width | :petal_length | :petal_width |  :species |\\n|--------------:|-------------:|--------------:|-------------:|-----------|\\n|           5.1 |          3.5 |           1.4 |          0.2 |    setosa |\\n|           4.9 |          3.0 |           1.4 |          0.2 |    setosa |\\n|           ... |          ... |           ... |          ... |       ... |\\n|           6.5 |          3.0 |           5.2 |          2.0 | virginica |\\n|           6.2 |          3.4 |           5.4 |          2.3 | virginica |\\n|           5.9 |          3.0 |           5.1 |          1.8 | virginica |\\n\"]]], \"882\" [:div [:p] [:div [:p/code {:code \"ctx-sparse\", :bg-class \"bg-light\"}]] nil [:p/code {:code \"{:metamorph/data _unnamed [2 3]:\\n\\n|                                :text |                                                               :bow | :sparse |\\n|--------------------------------------|--------------------------------------------------------------------|---------|\\n| Hello Clojure world, hello ML word ! | {\\\"hello\\\" 2, \\\"clojur\\\" 1, \\\"world\\\" 1, \\\",\\\" 1, \\\"ml\\\" 1, \\\"word\\\" 1, \\\"!\\\" 1} |   [0:2] |\\n|               ML with Clojure is fun |                    {\\\"ml\\\" 1, \\\"with\\\" 1, \\\"clojur\\\" 1, \\\"is\\\" 1, \\\"fun\\\" 1} |   [1:1] |\\n,\\n :metamorph/mode :fit,\\n :scicloj.ml.smile.metamorph/bow->sparse-vocabulary\\n {:vocab [\\\"hello\\\" \\\"fun\\\"],\\n  :vocab->index-map {\\\"hello\\\" 0, \\\"fun\\\" 1},\\n  :index->vocab-map {0 \\\"hello\\\", 1 \\\"fun\\\"}}}\\n\"}]], \"888\" [:div [:p] [:div [:p/code {:code \"^kind/dataset\\n(ml/pipe-it\\n bow-ds\\n (mm/bow->tfidf :bow :tfidf {}))\", :bg-class \"bg-light\"}]] nil [:div {:class \"table table-striped table-hover table-condensed table-responsive\", :style {:height \"400px\"}} [:p/markdown \"_unnamed [2 3]:\\n\\n|                                :text |                                                 :bow |                     :tfidf |\\n|--------------------------------------|------------------------------------------------------|----------------------------|\\n| Hello Clojure world, hello ML word ! | {hello 2, clojur 1, world 1, , 1, ml 1, word 1, ! 1} | {clojur 1.0,               |\\n|                                      |                                                      |  ! 1.4054651081081644,     |\\n|                                      |                                                      |  word 1.4054651081081644,  |\\n|                                      |                                                      |  hello 2.8109302162163288, |\\n|                                      |                                                      |  ml 1.0,                   |\\n|                                      |                                                      |  , 1.4054651081081644,     |\\n|                                      |                                                      |  world 1.4054651081081644} |\\n|               ML with Clojure is fun |                {ml 1, with 1, clojur 1, is 1, fun 1} | {clojur 1.0,               |\\n|                                      |                                                      |  is 1.4054651081081644,    |\\n|                                      |                                                      |  fun 1.4054651081081644,   |\\n|                                      |                                                      |  ml 1.0,                   |\\n|                                      |                                                      |  with 1.4054651081081644}  |\\n\"]]], \"938\" [:div [:p] nil nil [:p/markdown \"## Transformer **min-max-scale**\\n----------------------------------------------------------\\n__Clojure doc__:\\n\\nMetamorph transfomer, which scales the column data into a given range.\\n\\n  `columns-selector` tablecloth columns-selector to choose columns to work on\\n  `meta-field` tablecloth meta-field working with `columns-selector`\\n\\n  `options` Options for scaler, can take:\\n\\n  `min` Minimal value to scale to (default -0.5)\\n\\n  `max` Maximum value to scale to (default 0.5)\\n\\n  metamorph                            | .\\n  -------------------------------------|----------------------------------------------------------------------------\\n  Behaviour in mode :fit               | Scales the dataset at key `:metamorph/data` and stores the trained model in ctx under key at `:metamorph/id`\\n  Behaviour in mode :transform         | Reads trained min-max-scale model from ctx and applies it to data in `:metamorph/data`\\n  Reads keys from ctx                  | In mode `:transform` : Reads trained model to use for from key in `:metamorph/id`.\\n  Writes keys to ctx                   | In mode `:fit` : Stores trained model in key $id\\n\\n  \\n----------------------------------------------------------\"]], \"924\" [:div [:p] nil nil [:p/markdown \"## Transformer **std-scale**\\n----------------------------------------------------------\\n__Clojure doc__:\\n\\nMetamorph transfomer, which centers and scales the dataset per column.\\n\\n  `columns-selector` tablecloth columns-selector to choose columns to work on\\n  `meta-field` tablecloth meta-field working with `columns-selector`\\n\\n\\n  `options` are the options for the scaler and can take:\\n\\n  `mean?` If true (default), the data gets shifted by the column means, so 0 centered\\n\\n  `stddev?` If true (default), the data gets scaled by the standard deviation of the column\\n\\n  metamorph                            | .\\n  -------------------------------------|----------------------------------------------------------------------------\\n  Behaviour in mode :fit               | Centers and scales the dataset at key `:metamorph/data` and stores the trained model in ctx under key at `:metamorph/id`\\n  Behaviour in mode :transform         | Reads trained std-scale model from ctx and applies it to data in `:metamorph/data`\\n  Reads keys from ctx                  | In mode `:transform` : Reads trained model to use for from key in `:metamorph/id`.\\n  Writes keys to ctx                   | In mode `:fit` : Stores trained model in key $id\\n\\n  \\n----------------------------------------------------------\"]], \"856\" [:div [:p] [:div [:p/code {:code \"^kind/dataset\\n(:metamorph/data ctx-sparse)\", :bg-class \"bg-light\"}]] nil [:div {:class \"table table-striped table-hover table-condensed table-responsive\", :style {:height \"184px\"}} [:p/markdown \"_unnamed [2 3]:\\n\\n|                                :text |                                                 :bow |                             :sparse |\\n|--------------------------------------|------------------------------------------------------|-------------------------------------|\\n| Hello Clojure world, hello ML word ! | {hello 2, clojur 1, world 1, , 1, ml 1, word 1, ! 1} | [3:2, 0:1, 9:1, 7:1, 6:1, 2:1, 1:1] |\\n|               ML with Clojure is fun |                {ml 1, with 1, clojur 1, is 1, fun 1} |           [6:1, 8:1, 0:1, 4:1, 5:1] |\\n\"]]], \"862\" [:div [:p] nil nil [:p/markdown \"## Transformer **bow->sparse-array**\\n----------------------------------------------------------\\n__Clojure doc__:\\n\\nConverts a bag-of-word column `bow-col` to sparse indices column\\n  `indices-col`,   as needed by the Maxent model.\\n  `Options` can be of:\\n\\n  `create-vocab-fn` A function which converts the bow map to a list of tokens.\\n                    Defaults to scicloj.ml.smile.nlp/create-vocab-all\\n\\n\\n  The sparse data is represented as `primitive int arrays`,\\n  of which entries are the indices against the vocabulary\\n  of the present tokens.\\n\\n  metamorph                            |.\\n  -------------------------------------|---------\\n  Behaviour in mode :fit               |normal\\n  Behaviour in mode :transform         |normal\\n  Reads keys from ctx                  |none\\n  Writes keys to ctx                   |:scicloj.ml.smile.metamorph/bow->sparse-vocabulary\\n\\n  \\n----------------------------------------------------------\"]], \"860\" [:div [:p] [:div [:p/code {:code \"(zipmap\\n (:text bow-ds)\\n (map seq\\n      (-> ctx-sparse :metamorph/data :sparse)))\", :bg-class \"bg-light\"}]] nil [:p/code {:code \"{\\\"Hello Clojure world, hello ML word !\\\"\\n (#object[smile.util.SparseArray$Entry 0x7e2799c7 \\\"3:2\\\"]\\n  #object[smile.util.SparseArray$Entry 0x14eac9ed \\\"0:1\\\"]\\n  #object[smile.util.SparseArray$Entry 0x2d0f85f1 \\\"9:1\\\"]\\n  #object[smile.util.SparseArray$Entry 0x555a9c6d \\\"7:1\\\"]\\n  #object[smile.util.SparseArray$Entry 0x35a9e60b \\\"6:1\\\"]\\n  #object[smile.util.SparseArray$Entry 0x774ee4f2 \\\"2:1\\\"]\\n  #object[smile.util.SparseArray$Entry 0x26bfc7e7 \\\"1:1\\\"]),\\n \\\"ML with Clojure is fun\\\"\\n (#object[smile.util.SparseArray$Entry 0x27079ea9 \\\"6:1\\\"]\\n  #object[smile.util.SparseArray$Entry 0x1b17cb65 \\\"8:1\\\"]\\n  #object[smile.util.SparseArray$Entry 0x2e5c1cf5 \\\"0:1\\\"]\\n  #object[smile.util.SparseArray$Entry 0x1c8d2baa \\\"4:1\\\"]\\n  #object[smile.util.SparseArray$Entry 0x11524efe \\\"5:1\\\"])}\\n\"}]], \"876\" [:div [:p] [:div [:p/code {:code \"(def ctx-sparse\\n  (ml/fit\\n   bow-ds\\n   (mm/bow->SparseArray\\n    :bow :sparse\\n    {:create-vocab-fn\\n     (fn [bow] (scicloj.ml.smile.nlp/->vocabulary-top-n bow 1))})))\", :bg-class \"bg-light\"}]] nil nil], \"904\" [:div [:p] [:div [:p/code {:code \"(def pipe-fn\\n  (ml/pipeline\\n   (mm/set-inference-target :species)\\n   (mm/categorical->number [:species])\\n   {:metamorph/id :model}\\n   (mm/model {:model-type :smile.classification/logistic-regression})))\", :bg-class \"bg-light\"}]] nil nil], \"846\" [:div [:p] [:div [:p/code {:code \"fitted-ctx\", :bg-class \"bg-light\"}]] nil [:p/code {:code \"#:metamorph{:data _unnamed [2 2]:\\n\\n|                                :text |         :bow |\\n|--------------------------------------|--------------|\\n| Hello Clojure world, hello ML word ! | {:a 1, :b 2} |\\n|               ML with Clojure is fun | {:a 1, :b 2} |\\n, :mode :fit}\\n\"}]], \"852\" [:div [:p] [:div [:p/code {:code \"(def ctx-sparse\\n  (ml/fit\\n   bow-ds\\n   (mm/bow->SparseArray :bow :sparse)))\", :bg-class \"bg-light\"}]] nil nil], \"842\" [:div [:p] nil nil [:p/markdown \"or passing in a implementation of a tokenizer function\"]], \"878\" [:div [:p] [:div [:p/code {:code \"ctx-sparse\", :bg-class \"bg-light\"}]] nil [:p/code {:code \"{:metamorph/data _unnamed [2 3]:\\n\\n|                                :text |                                                               :bow | :sparse |\\n|--------------------------------------|--------------------------------------------------------------------|---------|\\n| Hello Clojure world, hello ML word ! | {\\\"hello\\\" 2, \\\"clojur\\\" 1, \\\"world\\\" 1, \\\",\\\" 1, \\\"ml\\\" 1, \\\"word\\\" 1, \\\"!\\\" 1} |   [0:1] |\\n|               ML with Clojure is fun |                    {\\\"ml\\\" 1, \\\"with\\\" 1, \\\"clojur\\\" 1, \\\"is\\\" 1, \\\"fun\\\" 1} |   [0:1] |\\n,\\n :metamorph/mode :fit,\\n :scicloj.ml.smile.metamorph/bow->sparse-vocabulary\\n {:vocab (\\\"ml\\\"),\\n  :vocab->index-map {\\\"ml\\\" 0},\\n  :index->vocab-map {0 \\\"ml\\\"}}}\\n\"}]], \"844\" [:div [:p] [:div [:p/code {:code \"(def fitted-ctx\\n  (ml/fit\\n   data\\n   (mm/count-vectorize\\n    :text :bow\\n    {:text->bow-fn (fn [text options]\\n                     {:a 1 :b 2})})))\", :bg-class \"bg-light\"}]] nil nil], \"936\" [:div [:p] [:div [:p/code {:code \"^kind/dataset\\n(ml/pipe-it\\n data\\n (mm/std-scale [0 1] {}))\", :bg-class \"bg-light\"}]] nil [:div {:class \"table table-striped table-hover table-condensed table-responsive\", :style {:height \"322px\"}} [:p/markdown \":_unnamed [5 2]:\\n\\n|           0 |           1 |\\n|------------:|------------:|\\n|  1.13053908 | -1.04102352 |\\n| -0.94965283 |  0.11305233 |\\n|  0.00000000 | -0.94681324 |\\n|  0.85920970 |  0.58410369 |\\n| -1.04009595 |  1.29068074 |\\n\"]]], \"874\" [:div [:p] nil nil [:p/markdown \"In both ->sparse function we can control the vocabulary via\\nthe option to pass in a different / custom functions which creates\\nthe vocabulary from the bow maps.\"]], \"960\" [:div [:p] nil nil [:p/markdown \"First we create and run  a pipeline which does the PCA.\\nIn this pipeline we do not fix the number of columns, as we want to\\nplot the result for all numbers of components (up to 60) \"]], \"872\" [:div [:p] [:div [:p/code {:code \"(zipmap\\n (:text bow-ds)\\n (map seq\\n      (-> ctx-sparse :metamorph/data :sparse)))\", :bg-class \"bg-light\"}]] nil [:p/code {:code \"{\\\"Hello Clojure world, hello ML word !\\\" (0 1 2 3 6 7 9),\\n \\\"ML with Clojure is fun\\\" (0 4 5 6 8)}\\n\"}]], \"886\" [:div [:p] nil nil [:p/markdown \"Here we calculate the tf-idf score from the bag of words:\"]], \"948\" [:div [:p] nil nil [:p/markdown \"In this example we run PCA on some data.\"]], \"968\" [:div [:p] [:div [:p/code {:code \"(defn create-plot-data [ctx]\\n  (map\\n   #(hash-map :principal-component %1\\n              :cumulative-variance %2)\\n   (range)\\n   (-> ctx vals (nth 2) :fit-result :model bean :cumulativeVarianceProportion)))\", :bg-class \"bg-light\"}]] nil nil], \"992\" [:div [:p] nil nil [:p/markdown \"The plot shows that the reduction to 2 dimensions does not create\\nlinear separable areas of `M` and `R`. So a linear model will not be\\n able to predict well the material from the 2 PCA components.\"]], \"854\" [:div [:p] [:div [:p/code {:code \"ctx-sparse\", :bg-class \"bg-light\"}]] nil [:p/code {:code \"{:metamorph/data _unnamed [2 3]:\\n\\n|                                :text |                                                               :bow |                             :sparse |\\n|--------------------------------------|--------------------------------------------------------------------|-------------------------------------|\\n| Hello Clojure world, hello ML word ! | {\\\"hello\\\" 2, \\\"clojur\\\" 1, \\\"world\\\" 1, \\\",\\\" 1, \\\"ml\\\" 1, \\\"word\\\" 1, \\\"!\\\" 1} | [3:2, 0:1, 9:1, 7:1, 6:1, 2:1, 1:1] |\\n|               ML with Clojure is fun |                    {\\\"ml\\\" 1, \\\"with\\\" 1, \\\"clojur\\\" 1, \\\"is\\\" 1, \\\"fun\\\" 1} |           [6:1, 8:1, 0:1, 4:1, 5:1] |\\n,\\n :metamorph/mode :fit,\\n :scicloj.ml.smile.metamorph/bow->sparse-vocabulary\\n {:vocab\\n  (\\\"clojur\\\" \\\"!\\\" \\\"word\\\" \\\"hello\\\" \\\"is\\\" \\\"fun\\\" \\\"ml\\\" \\\",\\\" \\\"with\\\" \\\"world\\\"),\\n  :vocab->index-map\\n  {\\\"clojur\\\" 0,\\n   \\\"!\\\" 1,\\n   \\\"word\\\" 2,\\n   \\\"hello\\\" 3,\\n   \\\"is\\\" 4,\\n   \\\"fun\\\" 5,\\n   \\\"ml\\\" 6,\\n   \\\",\\\" 7,\\n   \\\"with\\\" 8,\\n   \\\"world\\\" 9},\\n  :index->vocab-map\\n  {0 \\\"clojur\\\",\\n   7 \\\",\\\",\\n   1 \\\"!\\\",\\n   4 \\\"is\\\",\\n   6 \\\"ml\\\",\\n   3 \\\"hello\\\",\\n   2 \\\"word\\\",\\n   9 \\\"world\\\",\\n   5 \\\"fun\\\",\\n   8 \\\"with\\\"}}}\\n\"}]], \"918\" [:div [:p] [:div [:p/code {:code \"(-> transformed-ctx\\n    (dissoc-in [:model :model-data])\\n    (update-in [:metamorph/data ] #(tech.v3.dataset.print/print-range % 5)))\", :bg-class \"bg-light\"}]] nil [:p/code {:code \"{:metamorph/data :_unnamed [45 4]:\\n\\n| versicolor |         setosa |      virginica | :species |\\n|-----------:|---------------:|---------------:|---------:|\\n| 0.04749341 | 3.30325390E-06 | 9.52503285E-01 |      2.0 |\\n| 0.02088313 | 9.79116872E-01 | 1.06728982E-09 |      1.0 |\\n|        ... |            ... |            ... |      ... |\\n| 0.95039706 | 9.29256203E-04 | 4.86736875E-02 |      0.0 |\\n| 0.00011059 | 2.93141227E-12 | 9.99889405E-01 |      2.0 |\\n| 0.00590822 | 9.94091782E-01 | 5.34574899E-11 |      1.0 |\\n,\\n :metamorph/mode :transform,\\n :model\\n {:feature-columns\\n  [:sepal_length :sepal_width :petal_length :petal_width],\\n  :target-categorical-maps\\n  {:species\\n   {:lookup-table {\\\"versicolor\\\" 0, \\\"setosa\\\" 1, \\\"virginica\\\" 2},\\n    :src-column :species,\\n    :result-datatype :float64}},\\n  :target-columns [:species],\\n  :scicloj.metamorph.ml/unsupervised? nil,\\n  :scicloj.metamorph.ml/feature-ds\\n  https://raw.githubusercontent.com/scicloj/metamorph.ml/main/test/data/iris.csv [45 4]:\\n\\n| :sepal_length | :sepal_width | :petal_length | :petal_width |\\n|--------------:|-------------:|--------------:|-------------:|\\n|           6.7 |          3.0 |           5.2 |          2.3 |\\n|           5.1 |          3.3 |           1.7 |          0.5 |\\n|           ... |          ... |           ... |          ... |\\n|           6.4 |          3.2 |           4.5 |          1.5 |\\n|           7.7 |          2.6 |           6.9 |          2.3 |\\n|           5.1 |          3.7 |           1.5 |          0.4 |\\n,\\n  :id #uuid \\\"8f5b45cc-b2b4-405d-9a47-34407fd838fb\\\",\\n  :scicloj.metamorph.ml/target-ds\\n  https://raw.githubusercontent.com/scicloj/metamorph.ml/main/test/data/iris.csv [45 1]:\\n\\n| :species |\\n|---------:|\\n|      2.0 |\\n|      1.0 |\\n|      ... |\\n|      0.0 |\\n|      2.0 |\\n|      1.0 |\\n,\\n  :options {:model-type :smile.classification/logistic-regression}}}\\n\"}]], \"928\" [:div [:p] nil nil [:p/markdown \"Lets take some example data:\"]], \"870\" [:div [:p] nil nil [:p/markdown \"We see as well the sparse representation as indices against the vocabulary\\nof the non-zero counts.\"]], \"970\" [:div [:p] nil nil [:p/markdown \"Next we plot the cumulative variance over the component index:\"]], \"976\" [:div [:p] nil nil [:p/markdown \"Looking at this plot, we could now make a decision, how many dimensions\\n to keep.\"]], \"982\" [:div [:p] [:div [:p/code {:code \"(def fitted-ctx\\n  (ml/fit\\n   sonar\\n   (mm/reduce-dimensions :pca-cov 2\\n                         col-names\\n                         {})\\n                         \\n   (mm/select-columns  [:material \\\"pca-cov-0\\\" \\\"pca-cov-1\\\"])\\n   (mm/shuffle)))\", :bg-class \"bg-light\"}]] nil nil], \"966\" [:div [:p] nil nil [:p/markdown \"It accesses the underlying Smile Java object to get the data on\\nthe cumulative variance for each PCA component.\"]], \"880\" [:div [:p] [:div [:p/code {:code \"(def ctx-sparse\\n  (ml/fit\\n   bow-ds\\n   (mm/bow->SparseArray\\n    :bow :sparse\\n    {:create-vocab-fn\\n     (fn [_]\\n       [\\\"hello\\\" \\\"fun\\\"])})))\", :bg-class \"bg-light\"}]] nil nil], \"812\" [:div [:p] [:div [:p/code {:code \"(comment\\n  (note/init-with-browser)\\n  (note/eval-this-notespace)\\n  (note/render-static-html \\\"docs/userguide-transformers.html\\\"))\", :bg-class \"bg-light\"}]] nil [:p/code {:code \"nil\\n\"}]], \"864\" [:div [:p] nil nil [:p/markdown \"Now we convert the bag-of-words map to a sparse array of class\\n `java primitive int array`\\n\"]], \"990\" [:div [:p] [:div [:p/code {:code \"^kind/vega\\n{:$schema \\\"https://vega.github.io/schema/vega-lite/v5.json\\\"\\n :data {:values scatter-plot-data}\\n :width 500\\n :height 500\\n\\n :mark :circle\\n :encoding\\n {:x {:field \\\"pca-cov-0\\\"  :type \\\"quantitative\\\"}\\n  :y {:field \\\"pca-cov-1\\\"  :type \\\"quantitative\\\"}\\n  :color {:field :material}}}\", :bg-class \"bg-light\"}]] nil [:p/vega {:$schema \"https://vega.github.io/schema/vega-lite/v5.json\", :data {:values [{:material \"R\", \"pca-cov-0\" 0.13969334395492583, \"pca-cov-1\" 0.2387992340849475} {:material \"M\", \"pca-cov-0\" 0.8888179448483897, \"pca-cov-1\" 0.715023479538717} {:material \"R\", \"pca-cov-0\" 0.6062902555803897, \"pca-cov-1\" -0.04728685873568805} {:material \"M\", \"pca-cov-0\" -0.04178148676276669, \"pca-cov-1\" -1.0316439143097806} {:material \"M\", \"pca-cov-0\" 0.9119606410861045, \"pca-cov-1\" 1.3755342076072945} {:material \"R\", \"pca-cov-0\" -0.6882428055585184, \"pca-cov-1\" -0.3313758944140089} {:material \"M\", \"pca-cov-0\" -0.2841030579171579, \"pca-cov-1\" -0.45966114191331037} {:material \"M\", \"pca-cov-0\" -0.2279071055519237, \"pca-cov-1\" -0.7497101865021316} {:material \"R\", \"pca-cov-0\" 0.7185451707436292, \"pca-cov-1\" 0.39356258444189507} {:material \"M\", \"pca-cov-0\" -0.3595489885690596, \"pca-cov-1\" -0.6643078317533617} {:material \"M\", \"pca-cov-0\" -1.5282884373543508, \"pca-cov-1\" -0.02195850696812679} {:material \"R\", \"pca-cov-0\" -0.05056070031045465, \"pca-cov-1\" -0.6875920287783674} {:material \"M\", \"pca-cov-0\" -0.2668175070608287, \"pca-cov-1\" -0.7411544278319069} {:material \"R\", \"pca-cov-0\" 0.38337484936135663, \"pca-cov-1\" -0.07355381799773791} {:material \"R\", \"pca-cov-0\" 0.19979173218390478, \"pca-cov-1\" -0.7275569880195834} {:material \"R\", \"pca-cov-0\" -0.1328841349720351, \"pca-cov-1\" -0.19703127372105567} {:material \"M\", \"pca-cov-0\" -0.8878273198198166, \"pca-cov-1\" 1.1552221378030383} {:material \"M\", \"pca-cov-0\" 0.40429731749818804, \"pca-cov-1\" -0.26845706667683017} {:material \"R\", \"pca-cov-0\" -1.662707047260395, \"pca-cov-1\" 0.8610669395093695} {:material \"R\", \"pca-cov-0\" -1.6131320348613285, \"pca-cov-1\" 1.064936545085883} {:material \"R\", \"pca-cov-0\" 0.2967828472790705, \"pca-cov-1\" 0.14011815799868027} {:material \"M\", \"pca-cov-0\" 1.0611696069658763, \"pca-cov-1\" 0.1666602532341761} {:material \"R\", \"pca-cov-0\" 0.06475554508902975, \"pca-cov-1\" 0.222967780927322} {:material \"M\", \"pca-cov-0\" -0.1626510106262674, \"pca-cov-1\" -0.365385333479263} {:material \"R\", \"pca-cov-0\" -0.7121887141451237, \"pca-cov-1\" -0.810713555814754} {:material \"M\", \"pca-cov-0\" 0.8154007367002547, \"pca-cov-1\" 1.2083269722552155} {:material \"M\", \"pca-cov-0\" -0.14751166390612147, \"pca-cov-1\" -0.17759736179854124} {:material \"M\", \"pca-cov-0\" 0.81660148255509, \"pca-cov-1\" 0.965709606465319} {:material \"R\", \"pca-cov-0\" 0.8778009860185696, \"pca-cov-1\" 0.11696335784981554} {:material \"R\", \"pca-cov-0\" 0.29372891199876666, \"pca-cov-1\" -0.2695426506606127} {:material \"M\", \"pca-cov-0\" -1.5747242620406305, \"pca-cov-1\" -0.008997613971477969} {:material \"R\", \"pca-cov-0\" -0.29609341504368625, \"pca-cov-1\" -0.6323352987444024} {:material \"R\", \"pca-cov-0\" -0.22626634304414178, \"pca-cov-1\" -0.6849714814130017} {:material \"M\", \"pca-cov-0\" -0.2755946526481288, \"pca-cov-1\" -0.17427651040974856} {:material \"M\", \"pca-cov-0\" 0.7979867159049683, \"pca-cov-1\" 0.5181677097900093} {:material \"R\", \"pca-cov-0\" -0.8366418812939544, \"pca-cov-1\" -0.09673199167290436} {:material \"M\", \"pca-cov-0\" 0.13186023960662369, \"pca-cov-1\" -0.3174389132862275} {:material \"R\", \"pca-cov-0\" 0.3386153125517574, \"pca-cov-1\" -0.0931539750564166} {:material \"M\", \"pca-cov-0\" -0.6042137565370842, \"pca-cov-1\" -0.14958958521906573} {:material \"M\", \"pca-cov-0\" 0.7647946249010278, \"pca-cov-1\" 0.5167565445950892} {:material \"R\", \"pca-cov-0\" -0.1568372147437272, \"pca-cov-1\" 0.04119526664273079} {:material \"M\", \"pca-cov-0\" -1.524709701642341, \"pca-cov-1\" 0.07391136803675352} {:material \"M\", \"pca-cov-0\" -0.6659706271401359, \"pca-cov-1\" 0.030562536586775324} {:material \"R\", \"pca-cov-0\" 0.1265862309811044, \"pca-cov-1\" 0.49437376348442097} {:material \"M\", \"pca-cov-0\" 0.8944308974283286, \"pca-cov-1\" 0.4401681152853494} {:material \"M\", \"pca-cov-0\" -0.37420424084649817, \"pca-cov-1\" -0.12177948424810997} {:material \"R\", \"pca-cov-0\" -0.21002333207063617, \"pca-cov-1\" -0.24949758807312722} {:material \"R\", \"pca-cov-0\" -0.12014371691775022, \"pca-cov-1\" -0.5343646708813201} {:material \"M\", \"pca-cov-0\" -0.7921636386964359, \"pca-cov-1\" 0.6709193713565248} {:material \"M\", \"pca-cov-0\" -0.29773311072121217, \"pca-cov-1\" -1.1518598824859645} {:material \"R\", \"pca-cov-0\" -0.7065431876101358, \"pca-cov-1\" -0.6860302580890636} {:material \"R\", \"pca-cov-0\" 0.3258867890281873, \"pca-cov-1\" 0.8742085672217756} {:material \"M\", \"pca-cov-0\" 0.3661770598635929, \"pca-cov-1\" -0.9121422567519688} {:material \"R\", \"pca-cov-0\" 1.0652410611281313, \"pca-cov-1\" 0.35874375312331047} {:material \"M\", \"pca-cov-0\" -0.4732115476844847, \"pca-cov-1\" -0.010671545090953583} {:material \"M\", \"pca-cov-0\" -0.8401781028497368, \"pca-cov-1\" -0.04792029304104228} {:material \"M\", \"pca-cov-0\" 1.020208549233642, \"pca-cov-1\" -0.11890245052979626} {:material \"R\", \"pca-cov-0\" -0.6005074355254325, \"pca-cov-1\" -0.19943256713846746} {:material \"M\", \"pca-cov-0\" 0.023937902173329473, \"pca-cov-1\" 0.31762410498444194} {:material \"M\", \"pca-cov-0\" 0.5311632506691986, \"pca-cov-1\" -0.8324193252102678} {:material \"R\", \"pca-cov-0\" -1.6274598276478687, \"pca-cov-1\" 0.8352222453163363} {:material \"R\", \"pca-cov-0\" -1.533880273576329, \"pca-cov-1\" 0.40517566820421214} {:material \"M\", \"pca-cov-0\" 0.1440739144135213, \"pca-cov-1\" 0.09454167048032705} {:material \"M\", \"pca-cov-0\" -0.048099241760061834, \"pca-cov-1\" -0.2888442762995918} {:material \"M\", \"pca-cov-0\" 1.0123928040074481, \"pca-cov-1\" 1.2637341097332684} {:material \"M\", \"pca-cov-0\" -0.8119442722515346, \"pca-cov-1\" 1.3610127158339391} {:material \"R\", \"pca-cov-0\" -0.7161679219460846, \"pca-cov-1\" -0.5594705023312521} {:material \"R\", \"pca-cov-0\" 0.12727589589218669, \"pca-cov-1\" 0.28660897518730827} {:material \"M\", \"pca-cov-0\" -1.1157052015237723, \"pca-cov-1\" 0.1069696086288526} {:material \"M\", \"pca-cov-0\" 0.375732267961806, \"pca-cov-1\" -0.10318035292234379} {:material \"M\", \"pca-cov-0\" 0.49464049220437395, \"pca-cov-1\" -0.5976206218869591} {:material \"M\", \"pca-cov-0\" 1.1661686361401205, \"pca-cov-1\" -0.10277944546225226} {:material \"R\", \"pca-cov-0\" 1.3487518357168833, \"pca-cov-1\" 0.6444349514030069} {:material \"R\", \"pca-cov-0\" -0.8491589495103868, \"pca-cov-1\" 0.3894918072133822} {:material \"M\", \"pca-cov-0\" 0.7863180331069859, \"pca-cov-1\" -0.37264745405013405} {:material \"M\", \"pca-cov-0\" 0.8735117150395482, \"pca-cov-1\" -0.4720191007021492} {:material \"R\", \"pca-cov-0\" -0.8818604350820554, \"pca-cov-1\" 0.38984988619302485} {:material \"M\", \"pca-cov-0\" -0.2917913072804661, \"pca-cov-1\" -0.3360088887703038} {:material \"R\", \"pca-cov-0\" -0.31464370814570347, \"pca-cov-1\" -0.6573081544491415} {:material \"R\", \"pca-cov-0\" 0.39137173826520394, \"pca-cov-1\" 0.6235221698229829} {:material \"M\", \"pca-cov-0\" 0.16023915287137758, \"pca-cov-1\" -0.35136683026422905} {:material \"R\", \"pca-cov-0\" -1.0943305545602549, \"pca-cov-1\" 0.7027342387557258} {:material \"R\", \"pca-cov-0\" -1.0665190002292073, \"pca-cov-1\" 1.3644265203491626} {:material \"M\", \"pca-cov-0\" -0.3644528974563903, \"pca-cov-1\" -0.23663213961672597} {:material \"M\", \"pca-cov-0\" 0.36976121357014774, \"pca-cov-1\" -0.1729127591442992} {:material \"M\", \"pca-cov-0\" 0.09445630286822843, \"pca-cov-1\" -0.06585310801103667} {:material \"M\", \"pca-cov-0\" -0.41597514589891404, \"pca-cov-1\" -0.7352029346750024} {:material \"M\", \"pca-cov-0\" -0.6657497759130637, \"pca-cov-1\" 1.4010320248041883} {:material \"M\", \"pca-cov-0\" 0.8974153964965013, \"pca-cov-1\" -0.48939573090842864} {:material \"R\", \"pca-cov-0\" -1.7048008052895143, \"pca-cov-1\" 0.6544890234969654} {:material \"R\", \"pca-cov-0\" 0.9401072279346414, \"pca-cov-1\" -0.32457915487509365} {:material \"M\", \"pca-cov-0\" -1.3844347433711655, \"pca-cov-1\" 0.2730793050079699} {:material \"R\", \"pca-cov-0\" -0.37462066579967945, \"pca-cov-1\" 0.022334408574108233} {:material \"M\", \"pca-cov-0\" 1.4008863663758562, \"pca-cov-1\" 0.42477773512826933} {:material \"M\", \"pca-cov-0\" -0.0736181469499097, \"pca-cov-1\" 0.41135462596660566} {:material \"M\", \"pca-cov-0\" -0.38601636531509026, \"pca-cov-1\" 0.4497296318624451} {:material \"M\", \"pca-cov-0\" 0.39413140629285887, \"pca-cov-1\" 0.03889118737056449} {:material \"M\", \"pca-cov-0\" -0.697739832378317, \"pca-cov-1\" 0.08719485865090607} {:material \"R\", \"pca-cov-0\" -0.5760925244471817, \"pca-cov-1\" 0.3193929288752002} {:material \"R\", \"pca-cov-0\" -1.2724980890983915, \"pca-cov-1\" 0.6268386581642492} {:material \"R\", \"pca-cov-0\" 0.06261631664201256, \"pca-cov-1\" 0.40179454957456284} {:material \"R\", \"pca-cov-0\" 1.1275021841329433, \"pca-cov-1\" -0.23398180358641646} {:material \"R\", \"pca-cov-0\" -0.12364032261144284, \"pca-cov-1\" -0.6462862241930052} {:material \"M\", \"pca-cov-0\" -0.24285545658974822, \"pca-cov-1\" -0.05600851217140751} {:material \"R\", \"pca-cov-0\" -0.45270845142641986, \"pca-cov-1\" -0.46280013823116267} {:material \"R\", \"pca-cov-0\" 1.0122622536727601, \"pca-cov-1\" 0.4379544097242176} {:material \"R\", \"pca-cov-0\" -1.116022279686207, \"pca-cov-1\" -0.4657679526439464} {:material \"R\", \"pca-cov-0\" -1.5926431767553777, \"pca-cov-1\" 1.196254724405631} {:material \"R\", \"pca-cov-0\" -0.4926940242114485, \"pca-cov-1\" 0.4809414374706134} {:material \"M\", \"pca-cov-0\" 0.2921580306630482, \"pca-cov-1\" -0.2188814840296961} {:material \"R\", \"pca-cov-0\" -0.4034943410238024, \"pca-cov-1\" -0.36143669829704833} {:material \"M\", \"pca-cov-0\" 0.32905463938965146, \"pca-cov-1\" -0.0063358516089622174} {:material \"M\", \"pca-cov-0\" -0.8887531897006238, \"pca-cov-1\" 0.34078832906346584} {:material \"M\", \"pca-cov-0\" -1.331711318509011, \"pca-cov-1\" -0.37036239393074016} {:material \"M\", \"pca-cov-0\" -1.3037814884870433, \"pca-cov-1\" -0.27461417928786763} {:material \"R\", \"pca-cov-0\" 0.08972320130017236, \"pca-cov-1\" -0.4247201236975325} {:material \"M\", \"pca-cov-0\" 0.046613720249120194, \"pca-cov-1\" 0.13532529304426286} {:material \"R\", \"pca-cov-0\" 0.23467346641774695, \"pca-cov-1\" 0.3652086317375566} {:material \"M\", \"pca-cov-0\" 0.6681161328359413, \"pca-cov-1\" -0.15808225721247732} {:material \"M\", \"pca-cov-0\" -0.4757851759572047, \"pca-cov-1\" -0.5798699114357699} {:material \"R\", \"pca-cov-0\" -1.0522334331530276, \"pca-cov-1\" -0.22769680190393976} {:material \"M\", \"pca-cov-0\" 0.6869534668770336, \"pca-cov-1\" -0.6867474240436393} {:material \"M\", \"pca-cov-0\" 1.08315760557467, \"pca-cov-1\" 0.16941616006945842} {:material \"M\", \"pca-cov-0\" 0.28088718479110836, \"pca-cov-1\" 0.2821382748118007} {:material \"M\", \"pca-cov-0\" 1.017757163121475, \"pca-cov-1\" -0.4873583350352149} {:material \"R\", \"pca-cov-0\" 0.26928702489998285, \"pca-cov-1\" 0.9210462922317595} {:material \"R\", \"pca-cov-0\" -0.5503369884793633, \"pca-cov-1\" -0.5232706337415147} {:material \"M\", \"pca-cov-0\" 0.74806769801308, \"pca-cov-1\" -0.0488140806216526} {:material \"R\", \"pca-cov-0\" 0.5586959502370221, \"pca-cov-1\" 0.8219663744039716} {:material \"R\", \"pca-cov-0\" -0.7681563161220025, \"pca-cov-1\" -0.1227023728669821} {:material \"R\", \"pca-cov-0\" 0.15748388352906384, \"pca-cov-1\" 0.3956682028905505} {:material \"M\", \"pca-cov-0\" 0.5551962404949851, \"pca-cov-1\" 0.5598144799584606} {:material \"R\", \"pca-cov-0\" 0.3398471890073627, \"pca-cov-1\" -0.43756423373451053} {:material \"R\", \"pca-cov-0\" -0.4608848505387918, \"pca-cov-1\" -0.5157155737972035} {:material \"R\", \"pca-cov-0\" -0.6116107669596746, \"pca-cov-1\" 0.17626803911562106} {:material \"M\", \"pca-cov-0\" 0.8056321439007967, \"pca-cov-1\" 0.5115758632650735} {:material \"R\", \"pca-cov-0\" 0.1089160030676884, \"pca-cov-1\" -0.26262606993198173} {:material \"M\", \"pca-cov-0\" 0.4387228689840695, \"pca-cov-1\" 0.5844830182753706} {:material \"M\", \"pca-cov-0\" -0.2991868716934264, \"pca-cov-1\" -0.6503808887299687} {:material \"M\", \"pca-cov-0\" -0.13058541732793075, \"pca-cov-1\" -0.8996889893245701} {:material \"R\", \"pca-cov-0\" 1.2771258552922176, \"pca-cov-1\" -0.24039509799060071} {:material \"M\", \"pca-cov-0\" -0.12529198427713453, \"pca-cov-1\" -0.4427159663541585} {:material \"R\", \"pca-cov-0\" -0.6695589953543184, \"pca-cov-1\" -0.1954356678970951} {:material \"R\", \"pca-cov-0\" -0.4870998390048321, \"pca-cov-1\" -0.21210984368143493} {:material \"R\", \"pca-cov-0\" -0.3051251563397405, \"pca-cov-1\" -0.6842525864180042} {:material \"M\", \"pca-cov-0\" 0.5370796872561929, \"pca-cov-1\" -0.32816553288398315} {:material \"R\", \"pca-cov-0\" 1.042595313675037, \"pca-cov-1\" -0.47114465847900294} {:material \"M\", \"pca-cov-0\" 1.3142106792715, \"pca-cov-1\" 1.0702086409592704} {:material \"R\", \"pca-cov-0\" -0.04405800587984263, \"pca-cov-1\" -0.7942945416010774} {:material \"R\", \"pca-cov-0\" -0.7012290104235233, \"pca-cov-1\" 0.34599364357753604} {:material \"R\", \"pca-cov-0\" 1.2293676455454807, \"pca-cov-1\" -0.2766687183404906} {:material \"R\", \"pca-cov-0\" 0.672958335281443, \"pca-cov-1\" 0.5627402993384574} {:material \"M\", \"pca-cov-0\" -0.8433202717628021, \"pca-cov-1\" 1.4555862406503755} {:material \"M\", \"pca-cov-0\" -0.20034003357070257, \"pca-cov-1\" 0.2990388202263876} {:material \"R\", \"pca-cov-0\" 0.1539902863532745, \"pca-cov-1\" -0.28688975623490304} {:material \"M\", \"pca-cov-0\" -0.6749962305047714, \"pca-cov-1\" 1.4817762706943431} {:material \"M\", \"pca-cov-0\" -0.0853763355030043, \"pca-cov-1\" -0.9647104499342714} {:material \"M\", \"pca-cov-0\" 0.051114557997456844, \"pca-cov-1\" -0.9125262738604061} {:material \"M\", \"pca-cov-0\" 1.1394374339170283, \"pca-cov-1\" 0.6059085259471102} {:material \"M\", \"pca-cov-0\" -0.5316628144745317, \"pca-cov-1\" -0.41260104713600326} {:material \"R\", \"pca-cov-0\" 1.155820463456367, \"pca-cov-1\" -0.27656584779987653} {:material \"M\", \"pca-cov-0\" 0.8338213176765115, \"pca-cov-1\" -0.4505905142902345} {:material \"M\", \"pca-cov-0\" -0.21914885793991068, \"pca-cov-1\" -1.1538074545824804} {:material \"M\", \"pca-cov-0\" 0.013290778903050804, \"pca-cov-1\" -0.6103426976789785} {:material \"M\", \"pca-cov-0\" 0.33202860301834664, \"pca-cov-1\" -0.4024265794186998} {:material \"M\", \"pca-cov-0\" 0.9716829580714885, \"pca-cov-1\" -0.05486356222621436} {:material \"M\", \"pca-cov-0\" -0.42172458574750926, \"pca-cov-1\" 0.004610040123465053} {:material \"R\", \"pca-cov-0\" -0.4232805439514561, \"pca-cov-1\" 0.053140137896959094} {:material \"R\", \"pca-cov-0\" -0.26603629913590826, \"pca-cov-1\" -0.6271573089654712} {:material \"R\", \"pca-cov-0\" -0.23274053149696045, \"pca-cov-1\" 0.845217906407834} {:material \"R\", \"pca-cov-0\" 0.419052302148283, \"pca-cov-1\" 0.17147989141914777} {:material \"R\", \"pca-cov-0\" 0.9566857080582527, \"pca-cov-1\" 0.2689412980582911} {:material \"M\", \"pca-cov-0\" 0.5397258580115911, \"pca-cov-1\" -0.8550368568651603} {:material \"R\", \"pca-cov-0\" -0.8520352418947739, \"pca-cov-1\" 0.6908625375933913} {:material \"R\", \"pca-cov-0\" -0.8239605990942174, \"pca-cov-1\" -0.2226334383740441} {:material \"M\", \"pca-cov-0\" 1.4028931830319555, \"pca-cov-1\" 0.25979893142676536} {:material \"R\", \"pca-cov-0\" 0.9763544452136184, \"pca-cov-1\" 0.24800551621143258} {:material \"M\", \"pca-cov-0\" 0.31520459875824064, \"pca-cov-1\" -0.9297159607857126} {:material \"M\", \"pca-cov-0\" 0.98249006643535, \"pca-cov-1\" 1.1816674255966124} {:material \"M\", \"pca-cov-0\" -0.492060059460403, \"pca-cov-1\" 1.2508701469877732} {:material \"R\", \"pca-cov-0\" 0.6083168745551326, \"pca-cov-1\" 0.8988965103292283} {:material \"R\", \"pca-cov-0\" 0.9706673571016695, \"pca-cov-1\" 1.0180392438088373} {:material \"M\", \"pca-cov-0\" -0.25198153306458704, \"pca-cov-1\" -0.6115323251577494} {:material \"R\", \"pca-cov-0\" -0.3904363212452391, \"pca-cov-1\" -0.6969701639699071} {:material \"M\", \"pca-cov-0\" 1.0899761713794214, \"pca-cov-1\" 0.5477565416219576} {:material \"R\", \"pca-cov-0\" -0.9934318287353621, \"pca-cov-1\" 0.12117011798199517} {:material \"R\", \"pca-cov-0\" -0.12451345360574606, \"pca-cov-1\" -0.5972068345965449} {:material \"R\", \"pca-cov-0\" -0.9562353845571867, \"pca-cov-1\" 0.4033628244019578} {:material \"M\", \"pca-cov-0\" 0.8394685420707475, \"pca-cov-1\" -0.34296775295258247} {:material \"R\", \"pca-cov-0\" 0.5675439628915364, \"pca-cov-1\" 0.2487534401795547} {:material \"R\", \"pca-cov-0\" -0.11410315487870645, \"pca-cov-1\" -0.7414347924600933} {:material \"M\", \"pca-cov-0\" -0.8438511492831635, \"pca-cov-1\" -0.06389584271681498} {:material \"M\", \"pca-cov-0\" 0.3308371727635356, \"pca-cov-1\" -0.9548453383227284} {:material \"M\", \"pca-cov-0\" 1.3873156681429224, \"pca-cov-1\" 0.46017235571278925} {:material \"R\", \"pca-cov-0\" -1.1171074187843704, \"pca-cov-1\" -0.5411501625400246} {:material \"M\", \"pca-cov-0\" -0.4975726904497737, \"pca-cov-1\" -0.041514217452520374} {:material \"M\", \"pca-cov-0\" 0.8727775826866455, \"pca-cov-1\" 0.36661593582235} {:material \"M\", \"pca-cov-0\" -0.5225276643596347, \"pca-cov-1\" 0.16721201404003821} {:material \"M\", \"pca-cov-0\" 0.7266090728038888, \"pca-cov-1\" 0.4180887500366576} {:material \"M\", \"pca-cov-0\" 0.04576078491712582, \"pca-cov-1\" -0.9959695539272075} {:material \"R\", \"pca-cov-0\" -0.1619613430448013, \"pca-cov-1\" -0.6672495684312849} {:material \"M\", \"pca-cov-0\" 0.4291429862713045, \"pca-cov-1\" -0.8812319958014387} {:material \"R\", \"pca-cov-0\" 0.9411288648333531, \"pca-cov-1\" 0.22913851556705567} {:material \"R\", \"pca-cov-0\" -0.05161197328526301, \"pca-cov-1\" 0.19279682216163063} {:material \"M\", \"pca-cov-0\" 0.5039406642475133, \"pca-cov-1\" -0.9420443911311254} {:material \"M\", \"pca-cov-0\" 0.8457982521906666, \"pca-cov-1\" 0.6071518077656564} {:material \"R\", \"pca-cov-0\" 0.9146838733774907, \"pca-cov-1\" 0.13531135346141485} {:material \"R\", \"pca-cov-0\" 0.18357836760779966, \"pca-cov-1\" -1.011675678607664}]}, :width 500, :height 500, :mark :circle, :encoding {:x {:field \"pca-cov-0\", :type \"quantitative\"}, :y {:field \"pca-cov-1\", :type \"quantitative\"}, :color {:field :material}}}]], \"832\" [:div [:p] [:div [:p/code {:code \"(def bow-ds\\n (:metamorph/data fitted-ctx))\", :bg-class \"bg-light\"}]] nil nil], \"902\" [:div [:p] nil nil [:p/markdown \"The pipeline consists in specifying the inference target,\\n transform target to categorical and the model function\"]], \"828\" [:div [:p] [:div [:p/code {:code \"(def fitted-ctx\\n  (ml/fit data\\n          (mm/count-vectorize :text :bow)))\", :bg-class \"bg-light\"}]] nil nil], \"926\" [:div [:p] nil nil [:p/markdown \"We can use the std-scale transformer to center and scale data.\"]], \"986\" [:div [:p] nil nil [:p/markdown \"As the data is now 2-dimensional, it is easy to plot:\"]], \"906\" [:div [:p] nil nil [:p/markdown \"First we run the training \"]], \"838\" [:div [:p] [:div [:p/code {:code \"(def fitted-ctx\\n  (ml/fit\\n   data\\n   (mm/count-vectorize :text :bow {:stopwords [\\\"clojure\\\"]\\n                                   :stemmer :none})))\", :bg-class \"bg-light\"}]] nil nil], \"994\" [:div [:p] nil nil [:p/markdown \"It even seems, that the reduction to 2 dimensions removes\\ntoo much information for predicting of the material for any type of model.\"]], \"946\" [:div [:p] nil nil [:p/markdown \"#### PCA example\"]], \"848\" [:div [:p] nil nil [:p/markdown \"## Transformer **bow->SparseArray**\\n----------------------------------------------------------\\n__Clojure doc__:\\n\\nConverts a bag-of-word column `bow-col` to sparse indices column `indices-col`,\\n   as needed by the discrete naive bayes model.\\n\\n  `Options` can be of:\\n\\n  `create-vocab-fn` A function which converts the bow map to a list of tokens.\\n                    Defaults to scicloj.ml.smile.nlp/create-vocab-all\\n\\n  The sparse data is represented as `smile.util.SparseArray`.\\n\\n  metamorph                            |.\\n  -------------------------------------|---------\\n  Behaviour in mode :fit               |normal\\n  Behaviour in mode :transform         |normal\\n  Reads keys from ctx                  |none\\n  Writes keys to ctx                   |:scicloj.ml.smile.metamorph/bow->sparse-vocabulary\\n\\n  \\n----------------------------------------------------------\"]], \"866\" [:div [:p] [:div [:p/code {:code \"(def ctx-sparse\\n  (ml/fit\\n   bow-ds\\n   (mm/bow->sparse-array :bow :sparse)))\", :bg-class \"bg-light\"}]] nil nil], \"974\" [:div [:p] nil nil [:p/markdown \"From the plot we see, that transforming the data via PCA and reducing\\nit from 60 dimensions to about 25 would still preserve the full variance.\"]], \"962\" [:div [:p] [:div [:p/code {:code \"(def fitted-ctx\\n  (ml/fit\\n   sonar\\n   (mm/reduce-dimensions :pca-cov 60\\n                         col-names\\n                         {})))\", :bg-class \"bg-light\"}]] nil nil], \"940\" [:div [:p] nil nil [:p/markdown \"The min-max scaler scales columns in a specified interval,\\nby default from -0.5 to 0.5\"]], \"824\" [:div [:p] [:div [:p/code {:code \"^kind/dataset-grid\\ndata\", :bg-class \"bg-light\"}]] nil [:div {:class \"ag-theme-balham\", :style {:height \"150px\"}} [:p {:style {:font-style \"italic\", :font-family \"\\\"Lucida Console\\\", Courier, monospace\"}} [:small \"(showing at most 100 rows)\"]] [:p/dataset {:columnDefs [{:headerName \"text\", :field \"text\"}], :rowData ({\"text\" \"Hello Clojure world, hello ML word !\"} {\"text\" \"ML with Clojure is fun\"})}]]], \"816\" [:div [:p] nil nil nil], \"920\" [:div [:p] nil nil [:p/markdown \"and we get the predictions: \"]], \"934\" [:div [:p] nil nil [:p/markdown \"Now we can center each column arround 0 and scale\\nit by the standard deviation  of the column\"]], \"922\" [:div [:p] [:div [:p/code {:code \"^kind/dataset\\n(-> transformed-ctx\\n    :metamorph/data\\n    (ds/reverse-map-categorical-xforms)\\n    (ds/select-columns :species)\\n    (ds/head))\", :bg-class \"bg-light\"}]] nil [:div {:class \"table table-striped table-hover table-condensed table-responsive\", :style {:height \"322px\"}} [:p/markdown \":_unnamed [5 1]:\\n\\n|  :species |\\n|-----------|\\n| virginica |\\n|    setosa |\\n| virginica |\\n| virginica |\\n| virginica |\\n\"]]], \"900\" [:div [:p] [:div [:p/code {:code \"(def train-test\\n  (ds/train-test-split iris))\", :bg-class \"bg-light\"}]] nil nil], \"952\" [:div [:p] nil nil [:p/markdown \"We use the sonar dataset which has 60 columns of quantitative data,\\nwhich are certain measurements from a sonar device.\\nThe original purpose of the dataset is to learn to detect rock vs metal\\n from the measurements\"]], \"980\" [:div [:p] nil nil [:p/markdown \"So our pipeline becomes:\"]], \"834\" [:div [:p] [:div [:p/code {:code \"^kind/dataset\\nbow-ds\", :bg-class \"bg-light\"}]] nil [:div {:class \"table table-striped table-hover table-condensed table-responsive\", :style {:height \"184px\"}} [:p/markdown \"_unnamed [2 2]:\\n\\n|                                :text |                                                 :bow |\\n|--------------------------------------|------------------------------------------------------|\\n| Hello Clojure world, hello ML word ! | {hello 2, clojur 1, world 1, , 1, ml 1, word 1, ! 1} |\\n|               ML with Clojure is fun |                {ml 1, with 1, clojur 1, is 1, fun 1} |\\n\"]]], \"822\" [:div [:p] [:div [:p/code {:code \"(def data (ds/dataset {:text [\\\"Hello Clojure world, hello ML word !\\\"\\n                              \\\"ML with Clojure is fun\\\"]}))\", :bg-class \"bg-light\"}]] nil nil], \"956\" [:div [:p] [:div [:p/code {:code \"^kind/dataset\\nsonar\", :bg-class \"bg-light\"}]] nil [:div {:class \"table table-striped table-hover table-condensed table-responsive\", :style {:height \"400px\"}} [:p/markdown \"_unnamed [208 61]:\\n\\n|    :x0 |    :x1 |    :x2 |    :x3 |    :x4 |    :x5 |    :x6 |    :x7 |    :x8 |    :x9 |   :x10 |   :x11 |   :x12 |   :x13 |   :x14 |   :x15 |   :x16 |   :x17 |   :x18 |   :x19 |   :x20 |   :x21 |   :x22 |   :x23 |   :x24 |   :x25 |   :x26 |   :x27 |   :x28 |   :x29 |   :x30 |   :x31 |   :x32 |   :x33 |   :x34 |   :x35 |   :x36 |   :x37 |   :x38 |   :x39 |   :x40 |   :x41 |   :x42 |   :x43 |   :x44 |   :x45 |   :x46 |   :x47 |   :x48 |   :x49 |   :x50 |   :x51 |   :x52 |   :x53 |   :x54 |   :x55 |   :x56 |   :x57 |   :x58 |   :x59 | :material |\\n|-------:|-------:|-------:|-------:|-------:|-------:|-------:|-------:|-------:|-------:|-------:|-------:|-------:|-------:|-------:|-------:|-------:|-------:|-------:|-------:|-------:|-------:|-------:|-------:|-------:|-------:|-------:|-------:|-------:|-------:|-------:|-------:|-------:|-------:|-------:|-------:|-------:|-------:|-------:|-------:|-------:|-------:|-------:|-------:|-------:|-------:|-------:|-------:|-------:|-------:|-------:|-------:|-------:|-------:|-------:|-------:|-------:|-------:|-------:|-------:|-----------|\\n| 0.0200 | 0.0371 | 0.0428 | 0.0207 | 0.0954 | 0.0986 | 0.1539 | 0.1601 | 0.3109 | 0.2111 | 0.1609 | 0.1582 | 0.2238 | 0.0645 | 0.0660 | 0.2273 | 0.3100 | 0.2999 | 0.5078 | 0.4797 | 0.5783 | 0.5071 | 0.4328 | 0.5550 | 0.6711 | 0.6415 | 0.7104 | 0.8080 | 0.6791 | 0.3857 | 0.1307 | 0.2604 | 0.5121 | 0.7547 | 0.8537 | 0.8507 | 0.6692 | 0.6097 | 0.4943 | 0.2744 | 0.0510 | 0.2834 | 0.2825 | 0.4256 | 0.2641 | 0.1386 | 0.1051 | 0.1343 | 0.0383 | 0.0324 | 0.0232 | 0.0027 | 0.0065 | 0.0159 | 0.0072 | 0.0167 | 0.0180 | 0.0084 | 0.0090 | 0.0032 |         R |\\n| 0.0453 | 0.0523 | 0.0843 | 0.0689 | 0.1183 | 0.2583 | 0.2156 | 0.3481 | 0.3337 | 0.2872 | 0.4918 | 0.6552 | 0.6919 | 0.7797 | 0.7464 | 0.9444 | 1.0000 | 0.8874 | 0.8024 | 0.7818 | 0.5212 | 0.4052 | 0.3957 | 0.3914 | 0.3250 | 0.3200 | 0.3271 | 0.2767 | 0.4423 | 0.2028 | 0.3788 | 0.2947 | 0.1984 | 0.2341 | 0.1306 | 0.4182 | 0.3835 | 0.1057 | 0.1840 | 0.1970 | 0.1674 | 0.0583 | 0.1401 | 0.1628 | 0.0621 | 0.0203 | 0.0530 | 0.0742 | 0.0409 | 0.0061 | 0.0125 | 0.0084 | 0.0089 | 0.0048 | 0.0094 | 0.0191 | 0.0140 | 0.0049 | 0.0052 | 0.0044 |         R |\\n| 0.0262 | 0.0582 | 0.1099 | 0.1083 | 0.0974 | 0.2280 | 0.2431 | 0.3771 | 0.5598 | 0.6194 | 0.6333 | 0.7060 | 0.5544 | 0.5320 | 0.6479 | 0.6931 | 0.6759 | 0.7551 | 0.8929 | 0.8619 | 0.7974 | 0.6737 | 0.4293 | 0.3648 | 0.5331 | 0.2413 | 0.5070 | 0.8533 | 0.6036 | 0.8514 | 0.8512 | 0.5045 | 0.1862 | 0.2709 | 0.4232 | 0.3043 | 0.6116 | 0.6756 | 0.5375 | 0.4719 | 0.4647 | 0.2587 | 0.2129 | 0.2222 | 0.2111 | 0.0176 | 0.1348 | 0.0744 | 0.0130 | 0.0106 | 0.0033 | 0.0232 | 0.0166 | 0.0095 | 0.0180 | 0.0244 | 0.0316 | 0.0164 | 0.0095 | 0.0078 |         R |\\n| 0.0100 | 0.0171 | 0.0623 | 0.0205 | 0.0205 | 0.0368 | 0.1098 | 0.1276 | 0.0598 | 0.1264 | 0.0881 | 0.1992 | 0.0184 | 0.2261 | 0.1729 | 0.2131 | 0.0693 | 0.2281 | 0.4060 | 0.3973 | 0.2741 | 0.3690 | 0.5556 | 0.4846 | 0.3140 | 0.5334 | 0.5256 | 0.2520 | 0.2090 | 0.3559 | 0.6260 | 0.7340 | 0.6120 | 0.3497 | 0.3953 | 0.3012 | 0.5408 | 0.8814 | 0.9857 | 0.9167 | 0.6121 | 0.5006 | 0.3210 | 0.3202 | 0.4295 | 0.3654 | 0.2655 | 0.1576 | 0.0681 | 0.0294 | 0.0241 | 0.0121 | 0.0036 | 0.0150 | 0.0085 | 0.0073 | 0.0050 | 0.0044 | 0.0040 | 0.0117 |         R |\\n| 0.0762 | 0.0666 | 0.0481 | 0.0394 | 0.0590 | 0.0649 | 0.1209 | 0.2467 | 0.3564 | 0.4459 | 0.4152 | 0.3952 | 0.4256 | 0.4135 | 0.4528 | 0.5326 | 0.7306 | 0.6193 | 0.2032 | 0.4636 | 0.4148 | 0.4292 | 0.5730 | 0.5399 | 0.3161 | 0.2285 | 0.6995 | 1.0000 | 0.7262 | 0.4724 | 0.5103 | 0.5459 | 0.2881 | 0.0981 | 0.1951 | 0.4181 | 0.4604 | 0.3217 | 0.2828 | 0.2430 | 0.1979 | 0.2444 | 0.1847 | 0.0841 | 0.0692 | 0.0528 | 0.0357 | 0.0085 | 0.0230 | 0.0046 | 0.0156 | 0.0031 | 0.0054 | 0.0105 | 0.0110 | 0.0015 | 0.0072 | 0.0048 | 0.0107 | 0.0094 |         R |\\n| 0.0286 | 0.0453 | 0.0277 | 0.0174 | 0.0384 | 0.0990 | 0.1201 | 0.1833 | 0.2105 | 0.3039 | 0.2988 | 0.4250 | 0.6343 | 0.8198 | 1.0000 | 0.9988 | 0.9508 | 0.9025 | 0.7234 | 0.5122 | 0.2074 | 0.3985 | 0.5890 | 0.2872 | 0.2043 | 0.5782 | 0.5389 | 0.3750 | 0.3411 | 0.5067 | 0.5580 | 0.4778 | 0.3299 | 0.2198 | 0.1407 | 0.2856 | 0.3807 | 0.4158 | 0.4054 | 0.3296 | 0.2707 | 0.2650 | 0.0723 | 0.1238 | 0.1192 | 0.1089 | 0.0623 | 0.0494 | 0.0264 | 0.0081 | 0.0104 | 0.0045 | 0.0014 | 0.0038 | 0.0013 | 0.0089 | 0.0057 | 0.0027 | 0.0051 | 0.0062 |         R |\\n| 0.0317 | 0.0956 | 0.1321 | 0.1408 | 0.1674 | 0.1710 | 0.0731 | 0.1401 | 0.2083 | 0.3513 | 0.1786 | 0.0658 | 0.0513 | 0.3752 | 0.5419 | 0.5440 | 0.5150 | 0.4262 | 0.2024 | 0.4233 | 0.7723 | 0.9735 | 0.9390 | 0.5559 | 0.5268 | 0.6826 | 0.5713 | 0.5429 | 0.2177 | 0.2149 | 0.5811 | 0.6323 | 0.2965 | 0.1873 | 0.2969 | 0.5163 | 0.6153 | 0.4283 | 0.5479 | 0.6133 | 0.5017 | 0.2377 | 0.1957 | 0.1749 | 0.1304 | 0.0597 | 0.1124 | 0.1047 | 0.0507 | 0.0159 | 0.0195 | 0.0201 | 0.0248 | 0.0131 | 0.0070 | 0.0138 | 0.0092 | 0.0143 | 0.0036 | 0.0103 |         R |\\n| 0.0519 | 0.0548 | 0.0842 | 0.0319 | 0.1158 | 0.0922 | 0.1027 | 0.0613 | 0.1465 | 0.2838 | 0.2802 | 0.3086 | 0.2657 | 0.3801 | 0.5626 | 0.4376 | 0.2617 | 0.1199 | 0.6676 | 0.9402 | 0.7832 | 0.5352 | 0.6809 | 0.9174 | 0.7613 | 0.8220 | 0.8872 | 0.6091 | 0.2967 | 0.1103 | 0.1318 | 0.0624 | 0.0990 | 0.4006 | 0.3666 | 0.1050 | 0.1915 | 0.3930 | 0.4288 | 0.2546 | 0.1151 | 0.2196 | 0.1879 | 0.1437 | 0.2146 | 0.2360 | 0.1125 | 0.0254 | 0.0285 | 0.0178 | 0.0052 | 0.0081 | 0.0120 | 0.0045 | 0.0121 | 0.0097 | 0.0085 | 0.0047 | 0.0048 | 0.0053 |         R |\\n| 0.0223 | 0.0375 | 0.0484 | 0.0475 | 0.0647 | 0.0591 | 0.0753 | 0.0098 | 0.0684 | 0.1487 | 0.1156 | 0.1654 | 0.3833 | 0.3598 | 0.1713 | 0.1136 | 0.0349 | 0.3796 | 0.7401 | 0.9925 | 0.9802 | 0.8890 | 0.6712 | 0.4286 | 0.3374 | 0.7366 | 0.9611 | 0.7353 | 0.4856 | 0.1594 | 0.3007 | 0.4096 | 0.3170 | 0.3305 | 0.3408 | 0.2186 | 0.2463 | 0.2726 | 0.1680 | 0.2792 | 0.2558 | 0.1740 | 0.2121 | 0.1099 | 0.0985 | 0.1271 | 0.1459 | 0.1164 | 0.0777 | 0.0439 | 0.0061 | 0.0145 | 0.0128 | 0.0145 | 0.0058 | 0.0049 | 0.0065 | 0.0093 | 0.0059 | 0.0022 |         R |\\n| 0.0164 | 0.0173 | 0.0347 | 0.0070 | 0.0187 | 0.0671 | 0.1056 | 0.0697 | 0.0962 | 0.0251 | 0.0801 | 0.1056 | 0.1266 | 0.0890 | 0.0198 | 0.1133 | 0.2826 | 0.3234 | 0.3238 | 0.4333 | 0.6068 | 0.7652 | 0.9203 | 0.9719 | 0.9207 | 0.7545 | 0.8289 | 0.8907 | 0.7309 | 0.6896 | 0.5829 | 0.4935 | 0.3101 | 0.0306 | 0.0244 | 0.1108 | 0.1594 | 0.1371 | 0.0696 | 0.0452 | 0.0620 | 0.1421 | 0.1597 | 0.1384 | 0.0372 | 0.0688 | 0.0867 | 0.0513 | 0.0092 | 0.0198 | 0.0118 | 0.0090 | 0.0223 | 0.0179 | 0.0084 | 0.0068 | 0.0032 | 0.0035 | 0.0056 | 0.0040 |         R |\\n|    ... |    ... |    ... |    ... |    ... |    ... |    ... |    ... |    ... |    ... |    ... |    ... |    ... |    ... |    ... |    ... |    ... |    ... |    ... |    ... |    ... |    ... |    ... |    ... |    ... |    ... |    ... |    ... |    ... |    ... |    ... |    ... |    ... |    ... |    ... |    ... |    ... |    ... |    ... |    ... |    ... |    ... |    ... |    ... |    ... |    ... |    ... |    ... |    ... |    ... |    ... |    ... |    ... |    ... |    ... |    ... |    ... |    ... |    ... |    ... |       ... |\\n| 0.0366 | 0.0421 | 0.0504 | 0.0250 | 0.0596 | 0.0252 | 0.0958 | 0.0991 | 0.1419 | 0.1847 | 0.2222 | 0.2648 | 0.2508 | 0.2291 | 0.1555 | 0.1863 | 0.2387 | 0.3345 | 0.5233 | 0.6684 | 0.7766 | 0.7928 | 0.7940 | 0.9129 | 0.9498 | 0.9835 | 1.0000 | 0.9471 | 0.8237 | 0.6252 | 0.4181 | 0.3209 | 0.2658 | 0.2196 | 0.1588 | 0.0561 | 0.0948 | 0.1700 | 0.1215 | 0.1282 | 0.0386 | 0.1329 | 0.2331 | 0.2468 | 0.1960 | 0.1985 | 0.1570 | 0.0921 | 0.0549 | 0.0194 | 0.0166 | 0.0132 | 0.0027 | 0.0022 | 0.0059 | 0.0016 | 0.0025 | 0.0017 | 0.0027 | 0.0027 |         M |\\n| 0.0238 | 0.0318 | 0.0422 | 0.0399 | 0.0788 | 0.0766 | 0.0881 | 0.1143 | 0.1594 | 0.2048 | 0.2652 | 0.3100 | 0.2381 | 0.1918 | 0.1430 | 0.1735 | 0.1781 | 0.2852 | 0.5036 | 0.6166 | 0.7616 | 0.8125 | 0.7793 | 0.8788 | 0.8813 | 0.9470 | 1.0000 | 0.9739 | 0.8446 | 0.6151 | 0.4302 | 0.3165 | 0.2869 | 0.2017 | 0.1206 | 0.0271 | 0.0580 | 0.1262 | 0.1072 | 0.1082 | 0.0360 | 0.1197 | 0.2061 | 0.2054 | 0.1878 | 0.2047 | 0.1716 | 0.1069 | 0.0477 | 0.0170 | 0.0186 | 0.0096 | 0.0071 | 0.0084 | 0.0038 | 0.0026 | 0.0028 | 0.0013 | 0.0035 | 0.0060 |         M |\\n| 0.0116 | 0.0744 | 0.0367 | 0.0225 | 0.0076 | 0.0545 | 0.1110 | 0.1069 | 0.1708 | 0.2271 | 0.3171 | 0.2882 | 0.2657 | 0.2307 | 0.1889 | 0.1791 | 0.2298 | 0.3715 | 0.6223 | 0.7260 | 0.7934 | 0.8045 | 0.8067 | 0.9173 | 0.9327 | 0.9562 | 1.0000 | 0.9818 | 0.8684 | 0.6381 | 0.3997 | 0.3242 | 0.2835 | 0.2413 | 0.2321 | 0.1260 | 0.0693 | 0.0701 | 0.1439 | 0.1475 | 0.0438 | 0.0469 | 0.1476 | 0.1742 | 0.1555 | 0.1651 | 0.1181 | 0.0720 | 0.0321 | 0.0056 | 0.0202 | 0.0141 | 0.0103 | 0.0100 | 0.0034 | 0.0026 | 0.0037 | 0.0044 | 0.0057 | 0.0035 |         M |\\n| 0.0131 | 0.0387 | 0.0329 | 0.0078 | 0.0721 | 0.1341 | 0.1626 | 0.1902 | 0.2610 | 0.3193 | 0.3468 | 0.3738 | 0.3055 | 0.1926 | 0.1385 | 0.2122 | 0.2758 | 0.4576 | 0.6487 | 0.7154 | 0.8010 | 0.7924 | 0.8793 | 1.0000 | 0.9865 | 0.9474 | 0.9474 | 0.9315 | 0.8326 | 0.6213 | 0.3772 | 0.2822 | 0.2042 | 0.2190 | 0.2223 | 0.1327 | 0.0521 | 0.0618 | 0.1416 | 0.1460 | 0.0846 | 0.1055 | 0.1639 | 0.1916 | 0.2085 | 0.2335 | 0.1964 | 0.1300 | 0.0633 | 0.0183 | 0.0137 | 0.0150 | 0.0076 | 0.0032 | 0.0037 | 0.0071 | 0.0040 | 0.0009 | 0.0015 | 0.0085 |         M |\\n| 0.0335 | 0.0258 | 0.0398 | 0.0570 | 0.0529 | 0.1091 | 0.1709 | 0.1684 | 0.1865 | 0.2660 | 0.3188 | 0.3553 | 0.3116 | 0.1965 | 0.1780 | 0.2794 | 0.2870 | 0.3969 | 0.5599 | 0.6936 | 0.7969 | 0.7452 | 0.8203 | 0.9261 | 0.8810 | 0.8814 | 0.9301 | 0.9955 | 0.8576 | 0.6069 | 0.3934 | 0.2464 | 0.1645 | 0.1140 | 0.0956 | 0.0080 | 0.0702 | 0.0936 | 0.0894 | 0.1127 | 0.0873 | 0.1020 | 0.1964 | 0.2256 | 0.1814 | 0.2012 | 0.1688 | 0.1037 | 0.0501 | 0.0136 | 0.0130 | 0.0120 | 0.0039 | 0.0053 | 0.0062 | 0.0046 | 0.0045 | 0.0022 | 0.0005 | 0.0031 |         M |\\n| 0.0272 | 0.0378 | 0.0488 | 0.0848 | 0.1127 | 0.1103 | 0.1349 | 0.2337 | 0.3113 | 0.3997 | 0.3941 | 0.3309 | 0.2926 | 0.1760 | 0.1739 | 0.2043 | 0.2088 | 0.2678 | 0.2434 | 0.1839 | 0.2802 | 0.6172 | 0.8015 | 0.8313 | 0.8440 | 0.8494 | 0.9168 | 1.0000 | 0.7896 | 0.5371 | 0.6472 | 0.6505 | 0.4959 | 0.2175 | 0.0990 | 0.0434 | 0.1708 | 0.1979 | 0.1880 | 0.1108 | 0.1702 | 0.0585 | 0.0638 | 0.1391 | 0.0638 | 0.0581 | 0.0641 | 0.1044 | 0.0732 | 0.0275 | 0.0146 | 0.0091 | 0.0045 | 0.0043 | 0.0043 | 0.0098 | 0.0054 | 0.0051 | 0.0065 | 0.0103 |         M |\\n| 0.0187 | 0.0346 | 0.0168 | 0.0177 | 0.0393 | 0.1630 | 0.2028 | 0.1694 | 0.2328 | 0.2684 | 0.3108 | 0.2933 | 0.2275 | 0.0994 | 0.1801 | 0.2200 | 0.2732 | 0.2862 | 0.2034 | 0.1740 | 0.4130 | 0.6879 | 0.8120 | 0.8453 | 0.8919 | 0.9300 | 0.9987 | 1.0000 | 0.8104 | 0.6199 | 0.6041 | 0.5547 | 0.4160 | 0.1472 | 0.0849 | 0.0608 | 0.0969 | 0.1411 | 0.1676 | 0.1200 | 0.1201 | 0.1036 | 0.1977 | 0.1339 | 0.0902 | 0.1085 | 0.1521 | 0.1363 | 0.0858 | 0.0290 | 0.0203 | 0.0116 | 0.0098 | 0.0199 | 0.0033 | 0.0101 | 0.0065 | 0.0115 | 0.0193 | 0.0157 |         M |\\n| 0.0323 | 0.0101 | 0.0298 | 0.0564 | 0.0760 | 0.0958 | 0.0990 | 0.1018 | 0.1030 | 0.2154 | 0.3085 | 0.3425 | 0.2990 | 0.1402 | 0.1235 | 0.1534 | 0.1901 | 0.2429 | 0.2120 | 0.2395 | 0.3272 | 0.5949 | 0.8302 | 0.9045 | 0.9888 | 0.9912 | 0.9448 | 1.0000 | 0.9092 | 0.7412 | 0.7691 | 0.7117 | 0.5304 | 0.2131 | 0.0928 | 0.1297 | 0.1159 | 0.1226 | 0.1768 | 0.0345 | 0.1562 | 0.0824 | 0.1149 | 0.1694 | 0.0954 | 0.0080 | 0.0790 | 0.1255 | 0.0647 | 0.0179 | 0.0051 | 0.0061 | 0.0093 | 0.0135 | 0.0063 | 0.0063 | 0.0034 | 0.0032 | 0.0062 | 0.0067 |         M |\\n| 0.0522 | 0.0437 | 0.0180 | 0.0292 | 0.0351 | 0.1171 | 0.1257 | 0.1178 | 0.1258 | 0.2529 | 0.2716 | 0.2374 | 0.1878 | 0.0983 | 0.0683 | 0.1503 | 0.1723 | 0.2339 | 0.1962 | 0.1395 | 0.3164 | 0.5888 | 0.7631 | 0.8473 | 0.9424 | 0.9986 | 0.9699 | 1.0000 | 0.8630 | 0.6979 | 0.7717 | 0.7305 | 0.5197 | 0.1786 | 0.1098 | 0.1446 | 0.1066 | 0.1440 | 0.1929 | 0.0325 | 0.1490 | 0.0328 | 0.0537 | 0.1309 | 0.0910 | 0.0757 | 0.1059 | 0.1005 | 0.0535 | 0.0235 | 0.0155 | 0.0160 | 0.0029 | 0.0051 | 0.0062 | 0.0089 | 0.0140 | 0.0138 | 0.0077 | 0.0031 |         M |\\n| 0.0303 | 0.0353 | 0.0490 | 0.0608 | 0.0167 | 0.1354 | 0.1465 | 0.1123 | 0.1945 | 0.2354 | 0.2898 | 0.2812 | 0.1578 | 0.0273 | 0.0673 | 0.1444 | 0.2070 | 0.2645 | 0.2828 | 0.4293 | 0.5685 | 0.6990 | 0.7246 | 0.7622 | 0.9242 | 1.0000 | 0.9979 | 0.8297 | 0.7032 | 0.7141 | 0.6893 | 0.4961 | 0.2584 | 0.0969 | 0.0776 | 0.0364 | 0.1572 | 0.1823 | 0.1349 | 0.0849 | 0.0492 | 0.1367 | 0.1552 | 0.1548 | 0.1319 | 0.0985 | 0.1258 | 0.0954 | 0.0489 | 0.0241 | 0.0042 | 0.0086 | 0.0046 | 0.0126 | 0.0036 | 0.0035 | 0.0034 | 0.0079 | 0.0036 | 0.0048 |         M |\\n| 0.0260 | 0.0363 | 0.0136 | 0.0272 | 0.0214 | 0.0338 | 0.0655 | 0.1400 | 0.1843 | 0.2354 | 0.2720 | 0.2442 | 0.1665 | 0.0336 | 0.1302 | 0.1708 | 0.2177 | 0.3175 | 0.3714 | 0.4552 | 0.5700 | 0.7397 | 0.8062 | 0.8837 | 0.9432 | 1.0000 | 0.9375 | 0.7603 | 0.7123 | 0.8358 | 0.7622 | 0.4567 | 0.1715 | 0.1549 | 0.1641 | 0.1869 | 0.2655 | 0.1713 | 0.0959 | 0.0768 | 0.0847 | 0.2076 | 0.2505 | 0.1862 | 0.1439 | 0.1470 | 0.0991 | 0.0041 | 0.0154 | 0.0116 | 0.0181 | 0.0146 | 0.0129 | 0.0047 | 0.0039 | 0.0061 | 0.0040 | 0.0036 | 0.0061 | 0.0115 |         M |\\n\"]]], \"912\" [:div [:p] [:div [:p/code {:code \"(dissoc-in  fitted-ctx [:model :model-data])\", :bg-class \"bg-light\"}]] nil [:p/code {:code \"{:metamorph/data\\n https://raw.githubusercontent.com/scicloj/metamorph.ml/main/test/data/iris.csv [105 5]:\\n\\n| :sepal_length | :sepal_width | :petal_length | :petal_width | :species |\\n|--------------:|-------------:|--------------:|-------------:|---------:|\\n|           6.7 |          3.3 |           5.7 |          2.5 |      2.0 |\\n|           6.1 |          2.9 |           4.7 |          1.4 |      0.0 |\\n|           ... |          ... |           ... |          ... |      ... |\\n|           5.2 |          4.1 |           1.5 |          0.1 |      1.0 |\\n|           4.9 |          2.5 |           4.5 |          1.7 |      2.0 |\\n|           7.4 |          2.8 |           6.1 |          1.9 |      2.0 |\\n,\\n :metamorph/mode :fit,\\n :model\\n {:options {:model-type :smile.classification/logistic-regression},\\n  :id #uuid \\\"8f5b45cc-b2b4-405d-9a47-34407fd838fb\\\",\\n  :feature-columns\\n  [:sepal_length :sepal_width :petal_length :petal_width],\\n  :target-columns [:species],\\n  :target-categorical-maps\\n  {:species\\n   {:lookup-table {\\\"versicolor\\\" 0, \\\"setosa\\\" 1, \\\"virginica\\\" 2},\\n    :src-column :species,\\n    :result-datatype :float64}},\\n  :scicloj.metamorph.ml/unsupervised? nil}}\\n\"}]], \"944\" [:div [:p] nil nil [:p/markdown \"## Transformer **reduce-dimensions**\\n----------------------------------------------------------\\n__Clojure doc__:\\n\\nMetamorph transformer, which reduces the dimensions of a given dataset.\\n\\n  `algorithm` can be any of:\\n    * :pca-cov\\n    * :pca-cor\\n    * :pca-prob\\n    * :kpca\\n    * :gha\\n    * :random\\n\\n  `target-dims` is number of dimensions to reduce to.\\n\\n  `cnames` is a sequence of column names on which the reduction get performed\\n\\n  `opts` are the options of the algorithm\\n\\n  metamorph                            | .\\n  -------------------------------------|----------------------------------------------------------------------------\\n  Behaviour in mode :fit               | Reduces dimensions of the dataset at key `:metamorph/data` and stores the trained model in ctx under key at `:metamorph/id`\\n  Behaviour in mode :transform         | Reads trained reduction model from ctx and applies it to data in `:metamorph/data`\\n  Reads keys from ctx                  | In mode `:transform` : Reads trained model to use from ctx at key in `:metamorph/id`.\\n  Writes keys to ctx                   | In mode `:fit` : Stores trained model in ctx under key in `:metamorph/id`.\\n\\n  \\n----------------------------------------------------------\"]], \"950\" [:div [:p] [:div [:p/code {:code \"(require '[scicloj.metamorph.ml.toydata :as toydata])\", :bg-class \"bg-light\"}]] nil nil], \"892\" [:div [:p] nil nil [:p/markdown \"The `model` transformer allows to execute all machine learning models.clj\\nwhich register themself inside the `metamorph.ml` system via the function\\n`scicloj.metamorph.ml/define-model!`.\\nThe build in models are listed here:\\nhttps://scicloj.github.io/scicloj.ml/userguide-models.html\\n\\n\"]], \"964\" [:div [:p] nil nil [:p/markdown \"The next function transforms the result from the fitted pipeline\\ninto vega lite compatible format for plotting\"]]}}"</script>
    <script src="gorilla-notes/js/compiled/main.js"></script>
</html>
